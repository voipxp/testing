<pbs-navigation service-provider-id="$ctrl.serviceProviderId"
  group-id="$ctrl.groupId">
  <pbs-breadcrumb title="'Numbers'"></pbs-breadcrumb>
</pbs-navigation>

<pbs-spinner loading="$ctrl.loading">
  <pbs-block title="{{ $ctrl.showSelect ? $ctrl.action : 'Numbers' }}">
    <pbs-block-buttons>
      <pbs-button-compact-add ng-click="$ctrl.add()"
        title="Assign Numbers">
      </pbs-button-compact-add>
      <pbs-button-dropdown title="Edit Numbers"
        items="['Unassign Numbers', 'Activate Numbers', 'Deactivate Numbers']"
        on-select="$ctrl.select($event)"></pbs-button-dropdown>
    </pbs-block-buttons>
    <pbs-columns>
      <pbs-column>
        <pbs-table-search ng-model="$ctrl.search"
          style="margin-bottom: 0"></pbs-table-search>
      </pbs-column>
      <pbs-column class="is-narrow">
        <div class="buttons has-addons is-centered">
          <button class="button"
            ng-class="{'is-link': $ctrl.filter.assigned === true}"
            ng-click="$ctrl.toggleFilter('assigned')"
            ng-disabled="$ctrl.showSelect">Assigned</button>
          <button class="button"
            ng-class="{'is-link': $ctrl.filter.assigned === false}"
            ng-click="$ctrl.toggleFilter('unassigned')"
            ng-disabled="$ctrl.showSelect">Unassigned</button>
          <button class="button"
            ng-class="{'is-link': $ctrl.filter.activated === true}"
            ng-click="$ctrl.toggleFilter('activated')"
            ng-disabled="$ctrl.showSelect">Activated</button>
          <button class="button"
            ng-class="{'is-link': $ctrl.filter.activated === false}"
            ng-click="$ctrl.toggleFilter('deactivated')"
            ng-disabled="$ctrl.showSelect">Deactivated</button>
        </div>
      </pbs-column>
    </pbs-columns>

    <pbs-data-table order-by="min"
      filter="$ctrl.filter"
      search="$ctrl.search"
      columns="$ctrl.columns"
      items="$ctrl.numbers"
      show-select="$ctrl.showSelect"
      hide-search="true"
      is-compact="true"
      is-bordered="true"
      is-striped="true"
      limit-to="25"
      on-select="$ctrl.onSelect($event)"
      on-click="$ctrl.onClick($event)"></pbs-data-table>
  </pbs-block>
</pbs-spinner>

<pbs-modal id="groupNumbersEditModal"
  title="Edit Numbers">
  <select-things property="min"
    selected="$ctrl.editNumbers.assigned"
    available="$ctrl.editNumbers.unassign"
    selected-title="Assigned"
    available-title="Unassign">
  </select-things>
</pbs-modal>

<pbs-modal id="groupNumbersAddModal"
  title="Assign Numbers">
  <select-things property="min"
    selected="$ctrl.addNumbers.assign"
    available="$ctrl.addNumbers.unassigned"
    selected-title="Assign"
    available-title="Unassigned">
  </select-things>
</pbs-modal>
