<pbs-navigation service-provider-id="$ctrl.serviceProviderId"
  group-id="$ctrl.groupId"
  module="$ctrl.module">
  <pbs-breadcrumb module="$ctrl.module"></pbs-breadcrumb>
</pbs-navigation>
<pbs-block title="User Report">
  <pbs-block-buttons>
    <pbs-button-compact-download title="Download"
      ng-click="$ctrl.download()"></pbs-button-compact-download>
  </pbs-block-buttons>
  <pbs-table-search ng-model="$ctrl.search"></pbs-table-search>
  <table pbs-table>
    <thead>
      <tr>
        <th>User Id</th>
        <th>Last Name</th>
        <th>First Name</th>
        <th>Phone Number</th>
        <th>Extension</th>
        <th class="action">Activated</th>
        <th class="action">Trunk User</th>
        <th>Device Type</th>
        <th>MAC Address</th>
        <th>Service Packs</th>
        <th>Premium Services</th>
      </tr>
    </thead>
    <tfoot>
      <tr ng-if="results.length < 1">
        <td colspan="99">No Users Found
          <span ng-if="$ctrl.search">for {{ $ctrl.search }}</span>
        </td>
      </tr>
    </tfoot>
    <tbody>
      <tr ng-repeat="user in $ctrl.users | filter:$ctrl.search | orderBy:'userId' as results track by user.userId">
        <td>{{ user.userId }}</td>
        <td>{{ user.lastName }}</td>
        <td>{{ user.firstName }}</td>
        <td>{{ user.phoneNumber }}</td>
        <td>{{ user.extension }}</td>
        <td class="action">
          <pbs-check-box checked="user.phoneNumberActivated"></pbs-check-box>
        </td>
        <td>
          <pbs-check-box checked="user.inTrunkGroup"></pbs-check-box>
        </td>
        <td>{{ user.accessDeviceEndpoint.accessDevice.deviceType }}</td>
        <td>{{ user.accessDeviceEndpoint.accessDevice.macAddress }}</td>
        <td>{{ user.servicePacks.join(',') }}</td>
        <td>{{ user.premiumServices.join(',') }}</td>
      </tr>
    </tbody>
  </table>
</pbs-block>
