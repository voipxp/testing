<pbs-modal id="{{ $ctrl.modalId }}"
  title="Group Search">
  <form ng-submit="$ctrl.search()">
    <div class="field has-addons">
      <p class="control">
        <span class="select">
          <select ng-model="$ctrl.type">
            <option value="groupId">ID</option>
            <option value="groupName">Name</option>
          </select>
        </span>
      </p>
      <p class="control is-expanded"
        ng-class="{'is-loading': $ctrl.isLoading}">
        <input class="input"
          type="search"
          placeholder="Group search"
          ng-model="$ctrl.filter"
          ng-disabled="$ctrl.isLoading">
      </p>
      <p class="control">
        <button class="button"
          type="submit">
          <span class="icon">
            <i class="fas fa-search"></i>
          </span>
        </button>
      </p>
    </div>
  </form>
  <div style="margin: 5px 0 0 5px">
    Examples:
    <strong>name</strong> (equals name),
    <strong>name*</strong> (starts with name)
    <strong>*name*</strong> (contains name),
  </div>
  <table pbs-table
    ng-show="$ctrl.groups"
    class="large-margin-top">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Service Provider</th>
      </tr>
    </thead>
    <tfoot>
      <tr ng-if="results.length < 1">
        <td colspan="100">No Groups Found
          <strong ng-if="$ctrl.filter">for {{ $ctrl.filter}}</strong>
        </td>
      </tr>
    </tfoot>
    <tbody>
      <tr class="hover"
        ng-click="$ctrl.select(group)"
        ng-repeat="group in results = ($ctrl.groups | orderBy:'groupId') | paginate:$ctrl.pager track by group.groupId">
        <td>{{ group.groupId }}</td>
        <td>{{ group.groupName }}</td>
        <td>{{ group.serviceProviderId }}</td>
      </tr>
    </tbody>
  </table>
  <pbs-pagination items="results.length"
    limit="25"
    on-update="$ctrl.onPagination($event)"></pbs-pagination>
</pbs-modal>
