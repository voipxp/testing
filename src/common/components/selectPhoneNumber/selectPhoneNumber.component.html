<div class="field has-addons">
  <p class="control is-expanded">
    <input type="text"
      class="input"
      ng-click="$ctrl.edit()"
      ng-model="$ctrl.phoneNumber"
      readonly>
  </p>
  <p class="control">
    <a class="button"
      ng-click="$ctrl.edit()"
      title="Select a Phone Number">
      <span class="icon">
        <i class="fas fa-cog"></i>
      </span>
    </a>
  </p>
</div>

<pbs-modal id="{{ $ctrl.modalId }}"
  title="Select a Phone Number">
  <pbs-table-search ng-model="$ctrl.search"></pbs-table-search>
  <table pbs-table>
    <tr class="hover"
      ng-click="$ctrl.select(null)">
      <td>
        --NONE--
        <span ng-if="!$ctrl.phoneNumber"
          class="icon is-pulled-right">
          <i class="fas fa-check"></i>
        </span>
      </td>
    </tr>
    <tr class="hover"
      ng-repeat="num in $ctrl.numbers | filter:$ctrl.search | orderBy:'min' as results track by num.min"
      ng-click="$ctrl.select(num.min)">
      <td>
        {{ num.min }}
        <span ng-if="num.min === $ctrl.phoneNumber"
          class="icon is-pulled-right">
          <i class="fas fa-check"></i>
        </span>
      </td>
    </tr>
    <tr ng-show="results.length < 1">
      <td>No Numbers Found
        <span ng-show="$ctrl.search">for
          <strong>{{ $ctrl.search }}</strong>
        </span>
      </td>
    </tr>
  </table>
</pbs-modal>
