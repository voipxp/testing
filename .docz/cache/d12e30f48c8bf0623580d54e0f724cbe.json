{"remainingRequest":"/Users/dusty/Code/parkbench/odin-web/node_modules/thread-loader/dist/cjs.js??ref--5-1!/Users/dusty/Code/parkbench/odin-web/node_modules/babel-loader/lib/index.js??ref--5-2!/Users/dusty/Code/parkbench/odin-web/node_modules/source-map-loader/index.js!/Users/dusty/Code/parkbench/odin-web/src/utils/use-form.js","dependencies":[{"path":"/Users/dusty/Code/parkbench/odin-web/src/utils/use-form.js","mtime":1567098716407},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/docz/node_modules/cache-loader/dist/cjs.js","mtime":1557854551322},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/thread-loader/dist/cjs.js","mtime":1565388327920},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/babel-loader/lib/index.js","mtime":1557854551208},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/source-map-loader/index.js","mtime":1555547971189}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIi9Vc2Vycy9kdXN0eS9Db2RlL3BhcmtiZW5jaC9vZGluLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiO2ltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSIvVXNlcnMvZHVzdHkvQ29kZS9wYXJrYmVuY2gvb2Rpbi13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjtpbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSIvVXNlcnMvZHVzdHkvQ29kZS9wYXJrYmVuY2gvb2Rpbi13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOyhmdW5jdGlvbigpe3ZhciBlbnRlck1vZHVsZT10eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwhPT0ndW5kZWZpbmVkJz9yZWFjdEhvdExvYWRlckdsb2JhbC5lbnRlck1vZHVsZTp1bmRlZmluZWQ7ZW50ZXJNb2R1bGUmJmVudGVyTW9kdWxlKG1vZHVsZSk7fSkoKTtmdW5jdGlvbiBvd25LZXlzKG9iamVjdCxlbnVtZXJhYmxlT25seSl7dmFyIGtleXM9T2JqZWN0LmtleXMob2JqZWN0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgc3ltYm9scz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7aWYoZW51bWVyYWJsZU9ubHkpc3ltYm9scz1zeW1ib2xzLmZpbHRlcihmdW5jdGlvbihzeW0pe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCxzeW0pLmVudW1lcmFibGU7fSk7a2V5cy5wdXNoLmFwcGx5KGtleXMsc3ltYm9scyk7fXJldHVybiBrZXlzO31mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCl7Zm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7dmFyIHNvdXJjZT1hcmd1bWVudHNbaV0hPW51bGw/YXJndW1lbnRzW2ldOnt9O2lmKGklMil7b3duS2V5cyhzb3VyY2UsdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpe19kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsa2V5LHNvdXJjZVtrZXldKTt9KTt9ZWxzZSBpZihPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyl7T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO31lbHNle293bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxrZXksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2Usa2V5KSk7fSk7fX1yZXR1cm4gdGFyZ2V0O312YXIgX19zaWduYXR1cmVfXz10eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwhPT0ndW5kZWZpbmVkJz9yZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0LnNpZ25hdHVyZTpmdW5jdGlvbihhKXtyZXR1cm4gYTt9O2ltcG9ydHt1c2VTdGF0ZSx1c2VFZmZlY3QsdXNlQ2FsbGJhY2t9ZnJvbSdyZWFjdCc7ZXhwb3J0IHZhciB1c2VGb3JtPWZ1bmN0aW9uIHVzZUZvcm0oaW5pdGlhbFN0YXRlLGZvcm1SZWYpe3ZhciBfdXNlU3RhdGU9dXNlU3RhdGUoZmFsc2UpLF91c2VTdGF0ZTI9X3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLDIpLGlzVmFsaWQ9X3VzZVN0YXRlMlswXSxzZXRWYWxpZD1fdXNlU3RhdGUyWzFdO3ZhciBfdXNlU3RhdGUzPXVzZVN0YXRlKHt9KSxfdXNlU3RhdGU0PV9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsMiksZXJyb3JzPV91c2VTdGF0ZTRbMF0sc2V0RXJyb3JzPV91c2VTdGF0ZTRbMV07dmFyIF91c2VTdGF0ZTU9dXNlU3RhdGUoaW5pdGlhbFN0YXRlKSxfdXNlU3RhdGU2PV9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsMiksZm9ybT1fdXNlU3RhdGU2WzBdLHNldEZvcm09X3VzZVN0YXRlNlsxXTt2YXIgY2hlY2tWYWxpZGl0eT11c2VDYWxsYmFjayhmdW5jdGlvbigpe2lmKGZvcm1SZWYmJmZvcm1SZWYuY3VycmVudCl7dmFyIHZhbGlkaXR5PWZvcm1SZWYuY3VycmVudC5jaGVja1ZhbGlkaXR5KCk7dmFyIGZvcm1EYXRhPW5ldyBGb3JtRGF0YShmb3JtUmVmLmN1cnJlbnQpO3ZhciBuZXdFcnJvcnM9X3RvQ29uc3VtYWJsZUFycmF5KGZvcm1EYXRhLmtleXMoKSkucmVkdWNlKGZ1bmN0aW9uKGFjYyxrZXkpe2FjY1trZXldPWZvcm1SZWYuY3VycmVudC5lbGVtZW50c1trZXldLnZhbGlkYXRpb25NZXNzYWdlO3JldHVybiBhY2M7fSx7fSk7c2V0VmFsaWQodmFsaWRpdHkpO3NldEVycm9ycyhuZXdFcnJvcnMpO319LFtmb3JtUmVmXSk7Ly8gcmUtcnVuIGNoZWNrVmFsaWRpdHkgd2hlbiB0aGUgZm9ybSBvYmplY3QgaXMgY2hhbmdlZAovLyBmb3IgZXhhbXBsZSwgd2hlbiBzZWxlY3RpbmcgYSByb3cgaW4gYSB0YWJsZQp1c2VFZmZlY3QoZnVuY3Rpb24oKXtyZXR1cm4gY2hlY2tWYWxpZGl0eSgpO30sW2NoZWNrVmFsaWRpdHksZm9ybV0pO3ZhciBvbkNoYW5nZT1mdW5jdGlvbiBvbkNoYW5nZShfcmVmKXt2YXIgdGFyZ2V0PV9yZWYudGFyZ2V0O3ZhciBuYW1lPXRhcmdldC5uYW1lO3ZhciB2YWx1ZT10YXJnZXQudHlwZT09PSdjaGVja2JveCc/dGFyZ2V0LmNoZWNrZWQ6dGFyZ2V0LnZhbHVlO2NoZWNrVmFsaWRpdHkoKTtzZXRGb3JtKF9vYmplY3RTcHJlYWQoe30sZm9ybSxfZGVmaW5lUHJvcGVydHkoe30sbmFtZSx2YWx1ZSkpKTt9O3JldHVybntmb3JtOmZvcm0sc2V0Rm9ybTpzZXRGb3JtLG9uQ2hhbmdlOm9uQ2hhbmdlLGlzVmFsaWQ6aXNWYWxpZCxlcnJvcnM6ZXJyb3JzfTt9O19fc2lnbmF0dXJlX18odXNlRm9ybSwidXNlU3RhdGV7W2lzVmFsaWQsIHNldFZhbGlkXShmYWxzZSl9XG51c2VTdGF0ZXtbZXJyb3JzLCBzZXRFcnJvcnNdKHt9KX1cbnVzZVN0YXRle1tmb3JtLCBzZXRGb3JtXShpbml0aWFsU3RhdGUpfVxudXNlQ2FsbGJhY2t7Y2hlY2tWYWxpZGl0eX1cbnVzZUVmZmVjdHt9Iik7aWYodHlwZW9mIHVzZUZvcm0hPT0ndW5kZWZpbmVkJyYmdXNlRm9ybSYmdXNlRm9ybT09PU9iamVjdCh1c2VGb3JtKSYmT2JqZWN0LmlzRXh0ZW5zaWJsZSh1c2VGb3JtKSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHVzZUZvcm0sJ19fZmlsZW1ldGEnLHtlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWUsdmFsdWU6e25hbWU6InVzZUZvcm0iLGZpbGVuYW1lOiJzcmMvdXRpbHMvdXNlLWZvcm0uanMifX0pO307KGZ1bmN0aW9uKCl7dmFyIHJlYWN0SG90TG9hZGVyPXR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCE9PSd1bmRlZmluZWQnP3JlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQ6dW5kZWZpbmVkO2lmKCFyZWFjdEhvdExvYWRlcil7cmV0dXJuO31yZWFjdEhvdExvYWRlci5yZWdpc3Rlcih1c2VGb3JtLCJ1c2VGb3JtIiwiL1VzZXJzL2R1c3R5L0NvZGUvcGFya2JlbmNoL29kaW4td2ViL3NyYy91dGlscy91c2UtZm9ybS5qcyIpO30pKCk7OyhmdW5jdGlvbigpe3ZhciBsZWF2ZU1vZHVsZT10eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwhPT0ndW5kZWZpbmVkJz9yZWFjdEhvdExvYWRlckdsb2JhbC5sZWF2ZU1vZHVsZTp1bmRlZmluZWQ7bGVhdmVNb2R1bGUmJmxlYXZlTW9kdWxlKG1vZHVsZSk7fSkoKTs="},{"version":3,"sources":["/Users/dusty/Code/parkbench/odin-web/src/utils/use-form.js"],"names":["useState","useEffect","useCallback","useForm","initialState","formRef","isValid","setValid","errors","setErrors","form","setForm","checkValidity","current","validity","formData","FormData","newErrors","keys","reduce","acc","key","elements","validationMessage","onChange","target","name","value","type","checked"],"mappings":"44CAAA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,WAA9B,KAAiD,OAAjD,CAEA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,YAAD,CAAeC,OAAf,CAA2B,eACpBL,QAAQ,CAAC,KAAD,CADY,wCACzCM,OADyC,eAChCC,QADgC,8BAEpBP,QAAQ,CAAC,EAAD,CAFY,yCAEzCQ,MAFyC,eAEjCC,SAFiC,8BAGxBT,QAAQ,CAACI,YAAD,CAHgB,yCAGzCM,IAHyC,eAGnCC,OAHmC,eAIhD,GAAMC,CAAAA,aAAa,CAAGV,WAAW,CAAC,UAAM,CACtC,GAAIG,OAAO,EAAIA,OAAO,CAACQ,OAAvB,CAAgC,CAC9B,GAAMC,CAAAA,QAAQ,CAAGT,OAAO,CAACQ,OAAR,CAAgBD,aAAhB,EAAjB,CACA,GAAMG,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,CAAaX,OAAO,CAACQ,OAArB,CAAjB,CACA,GAAMI,CAAAA,SAAS,CAAG,mBAAIF,QAAQ,CAACG,IAAT,EAAJ,EAAqBC,MAArB,CAA4B,SAACC,GAAD,CAAMC,GAAN,CAAc,CAC1DD,GAAG,CAACC,GAAD,CAAH,CAAWhB,OAAO,CAACQ,OAAR,CAAgBS,QAAhB,CAAyBD,GAAzB,EAA8BE,iBAAzC,CACA,MAAOH,CAAAA,GAAP,CACD,CAHiB,CAGf,EAHe,CAAlB,CAIAb,QAAQ,CAACO,QAAD,CAAR,CACAL,SAAS,CAACQ,SAAD,CAAT,CACD,CACF,CAXgC,CAW9B,CAACZ,OAAD,CAX8B,CAAjC,CAYA;AACA;AACAJ,SAAS,CAAC,iBAAMW,CAAAA,aAAa,EAAnB,EAAD,CAAwB,CAACA,aAAD,CAAgBF,IAAhB,CAAxB,CAAT,CACA,GAAMc,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,CAC/B,GAAMC,CAAAA,IAAI,CAAGD,MAAM,CAACC,IAApB,CACA,GAAMC,CAAAA,KAAK,CAAGF,MAAM,CAACG,IAAP,GAAgB,UAAhB,CAA6BH,MAAM,CAACI,OAApC,CAA8CJ,MAAM,CAACE,KAAnE,CACAf,aAAa,GACbD,OAAO,kBAAMD,IAAN,oBAAagB,IAAb,CAAoBC,KAApB,GAAP,CACD,CALD,CAMA,MAAO,CAAEjB,IAAI,CAAJA,IAAF,CAAQC,OAAO,CAAPA,OAAR,CAAiBa,QAAQ,CAARA,QAAjB,CAA2BlB,OAAO,CAAPA,OAA3B,CAAoCE,MAAM,CAANA,MAApC,CAAP,CACD,CA1BM,C,cAAML,O,+iBAAAA,O","sourcesContent":["import { useState, useEffect, useCallback } from 'react'\n\nexport const useForm = (initialState, formRef) => {\n  const [isValid, setValid] = useState(false)\n  const [errors, setErrors] = useState({})\n  const [form, setForm] = useState(initialState)\n  const checkValidity = useCallback(() => {\n    if (formRef && formRef.current) {\n      const validity = formRef.current.checkValidity()\n      const formData = new FormData(formRef.current)\n      const newErrors = [...formData.keys()].reduce((acc, key) => {\n        acc[key] = formRef.current.elements[key].validationMessage\n        return acc\n      }, {})\n      setValid(validity)\n      setErrors(newErrors)\n    }\n  }, [formRef])\n  // re-run checkValidity when the form object is changed\n  // for example, when selecting a row in a table\n  useEffect(() => checkValidity(), [checkValidity, form])\n  const onChange = ({ target }) => {\n    const name = target.name\n    const value = target.type === 'checkbox' ? target.checked : target.value\n    checkValidity()\n    setForm({ ...form, [name]: value })\n  }\n  return { form, setForm, onChange, isValid, errors }\n}\n"]}]}