{"remainingRequest":"/Users/dusty/Code/parkbench/odin-web/node_modules/thread-loader/dist/cjs.js??ref--5-1!/Users/dusty/Code/parkbench/odin-web/node_modules/babel-loader/lib/index.js??ref--5-2!/Users/dusty/Code/parkbench/odin-web/node_modules/source-map-loader/index.js!/Users/dusty/Code/parkbench/odin-web/src/components/ui/ui-menu.js","dependencies":[{"path":"/Users/dusty/Code/parkbench/odin-web/src/components/ui/ui-menu.js","mtime":1567098716366},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/docz/node_modules/cache-loader/dist/cjs.js","mtime":1557854551322},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/thread-loader/dist/cjs.js","mtime":1565388327920},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/babel-loader/lib/index.js","mtime":1557854551208},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/source-map-loader/index.js","mtime":1555547971189}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIi9Vc2Vycy9kdXN0eS9Db2RlL3BhcmtiZW5jaC9vZGluLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiOyhmdW5jdGlvbigpe3ZhciBlbnRlck1vZHVsZT10eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwhPT0ndW5kZWZpbmVkJz9yZWFjdEhvdExvYWRlckdsb2JhbC5lbnRlck1vZHVsZTp1bmRlZmluZWQ7ZW50ZXJNb2R1bGUmJmVudGVyTW9kdWxlKG1vZHVsZSk7fSkoKTt2YXIgX19zaWduYXR1cmVfXz10eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwhPT0ndW5kZWZpbmVkJz9yZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0LnNpZ25hdHVyZTpmdW5jdGlvbihhKXtyZXR1cm4gYTt9O2ltcG9ydCBSZWFjdCBmcm9tJ3JlYWN0JztpbXBvcnQgc3R5bGVkIGZyb20nc3R5bGVkLWNvbXBvbmVudHMnO2ltcG9ydHtNZW51LENvbHVtbn1mcm9tJ3JieCc7aW1wb3J0e1N3aXRjaCxSb3V0ZSx3aXRoUm91dGVyLFJlZGlyZWN0fWZyb20ncmVhY3Qtcm91dGVyLWRvbSc7aW1wb3J0e1VpTG9hZGluZ31mcm9tJ0AvY29tcG9uZW50cy91aSc7aW1wb3J0e0FuZ3VsYXJDb21wb25lbnR9ZnJvbSdAL2NvbXBvbmVudHMvYW5ndWxhci1jb21wb25lbnQnO3ZhciBTdHlsZWRNZW51PXN0eWxlZC5kaXYud2l0aENvbmZpZyh7ZGlzcGxheU5hbWU6InVpLW1lbnVfX1N0eWxlZE1lbnUiLGNvbXBvbmVudElkOiJkcnN0MWUtMCJ9KShbImJhY2tncm91bmQtY29sb3I6d2hpdGU7Ym94LXNoYWRvdzowIDJweCAzcHggcmdiYSgxMCwxMCwxMCwwLjEpLDAgMCAwIDFweCByZ2JhKDEwLDEwLDEwLDAuMSk7cGFkZGluZzoxcmVtOyJdKTt2YXIgVWlNZW51QmFzZT1mdW5jdGlvbiBVaU1lbnVCYXNlKF9yZWYpe3ZhciBtYXRjaD1fcmVmLm1hdGNoLGxvY2F0aW9uPV9yZWYubG9jYXRpb24sX3JlZiRtZW51PV9yZWYubWVudSxtZW51PV9yZWYkbWVudT09PXZvaWQgMD9bXTpfcmVmJG1lbnU7dmFyIHJlbmRlclJvdXRlPWZ1bmN0aW9uIHJlbmRlclJvdXRlKHJvdXRlUHJvcHMpe3ZhciBwYXRoPXJvdXRlUHJvcHMubWF0Y2gucGFyYW1zLnBhdGg7dmFyIHJvdXRlO3ZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uPXRydWU7dmFyIF9kaWRJdGVyYXRvckVycm9yPWZhbHNlO3ZhciBfaXRlcmF0b3JFcnJvcj11bmRlZmluZWQ7dHJ5e2Zvcih2YXIgX2l0ZXJhdG9yPW1lbnVbU3ltYm9sLml0ZXJhdG9yXSgpLF9zdGVwOyEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbj0oX3N0ZXA9X2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbj10cnVlKXt2YXIgc2VjdGlvbj1fc3RlcC52YWx1ZTtyb3V0ZT1zZWN0aW9uLml0ZW1zLmZpbmQoZnVuY3Rpb24oaXRlbSl7cmV0dXJuIGl0ZW0ucGF0aD09PXBhdGg7fSk7aWYocm91dGUpYnJlYWs7fX1jYXRjaChlcnIpe19kaWRJdGVyYXRvckVycm9yPXRydWU7X2l0ZXJhdG9yRXJyb3I9ZXJyO31maW5hbGx5e3RyeXtpZighX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiYmX2l0ZXJhdG9yLnJldHVybiE9bnVsbCl7X2l0ZXJhdG9yLnJldHVybigpO319ZmluYWxseXtpZihfZGlkSXRlcmF0b3JFcnJvcil7dGhyb3cgX2l0ZXJhdG9yRXJyb3I7fX19aWYoIXJvdXRlKXJldHVybiByZW5kZXJEZWZhdWx0KCk7dmFyIF9yb3V0ZT1yb3V0ZSxjb21wb25lbnQ9X3JvdXRlLmNvbXBvbmVudCxhbmd1bGFyQ29tcG9uZW50PV9yb3V0ZS5hbmd1bGFyQ29tcG9uZW50LHByb3BzPV9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcm91dGUsWyJjb21wb25lbnQiLCJhbmd1bGFyQ29tcG9uZW50Il0pO2lmKGFuZ3VsYXJDb21wb25lbnQpe3JldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFuZ3VsYXJDb21wb25lbnQsT2JqZWN0LmFzc2lnbih7Y29tcG9uZW50OmFuZ3VsYXJDb21wb25lbnR9LHByb3BzKSk7fWVsc2V7cmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQocm91dGUuY29tcG9uZW50LE9iamVjdC5hc3NpZ24oe30scHJvcHMscm91dGVQcm9wcykpO319O3ZhciBpc0FjdGl2ZT1mdW5jdGlvbiBpc0FjdGl2ZShpdGVtKXt2YXIgcGF0aD0iIi5jb25jYXQobWF0Y2gudXJsLCIvIikuY29uY2F0KGl0ZW0ucGF0aCk7cmV0dXJuIGxvY2F0aW9uLnBhdGhuYW1lPT09cGF0aHx8bG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aCgiIi5jb25jYXQocGF0aCwiLyIpKTt9Oy8vIHNlbGVjdCB0aGUgZmlyc3Qgcm91dGUgZnJvbSB0aGUgZmlyc3Qgc2VjdGlvbgp2YXIgcmVuZGVyRGVmYXVsdD1mdW5jdGlvbiByZW5kZXJEZWZhdWx0KCl7dmFyIHNlY3Rpb249bWVudVswXTt2YXIgcm91dGU9c2VjdGlvbiYmc2VjdGlvbi5pdGVtc1swXTtyZXR1cm4gcm91dGU/UmVhY3QuY3JlYXRlRWxlbWVudChSZWRpcmVjdCx7dG86IiIuY29uY2F0KG1hdGNoLnVybCwiLyIpLmNvbmNhdChyb3V0ZS5wYXRoKX0pOlJlYWN0LmNyZWF0ZUVsZW1lbnQoVWlMb2FkaW5nLG51bGwpO307cmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsbnVsbCxSZWFjdC5jcmVhdGVFbGVtZW50KENvbHVtbi5Hcm91cCxudWxsLFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29sdW1uLHtuYXJyb3c6dHJ1ZX0sUmVhY3QuY3JlYXRlRWxlbWVudChNZW51LHthczpTdHlsZWRNZW51fSxtZW51Lm1hcChmdW5jdGlvbihzZWN0aW9uKXtyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCx7a2V5OnNlY3Rpb24ubGFiZWx9LFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudS5MYWJlbCxudWxsLHNlY3Rpb24ubGFiZWwpLFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudS5MaXN0LG51bGwsc2VjdGlvbi5pdGVtcy5tYXAoZnVuY3Rpb24oaXRlbSl7dmFyIHBhdGg9IiIuY29uY2F0KG1hdGNoLnVybCwiLyIpLmNvbmNhdChpdGVtLnBhdGgpO3JldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KE1lbnUuTGlzdC5JdGVtLHtrZXk6aXRlbS5wYXRoLGFjdGl2ZTppc0FjdGl2ZShpdGVtKSxocmVmOiIjISIuY29uY2F0KHBhdGgpfSxpdGVtLm5hbWUpO30pKSk7fSkpKSxSZWFjdC5jcmVhdGVFbGVtZW50KENvbHVtbix7c3R5bGU6e292ZXJmbG93OidhdXRvJ319LFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3dpdGNoLG51bGwsUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSx7cGF0aDoiIi5jb25jYXQobWF0Y2gucGF0aCwiLzpwYXRoIikscmVuZGVyOnJlbmRlclJvdXRlfSksUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSx7cmVuZGVyOnJlbmRlckRlZmF1bHR9KSkpKSk7fTtleHBvcnQgdmFyIFVpTWVudT13aXRoUm91dGVyKFVpTWVudUJhc2UpO2lmKHR5cGVvZiBVaU1lbnUhPT0ndW5kZWZpbmVkJyYmVWlNZW51JiZVaU1lbnU9PT1PYmplY3QoVWlNZW51KSYmT2JqZWN0LmlzRXh0ZW5zaWJsZShVaU1lbnUpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoVWlNZW51LCdfX2ZpbGVtZXRhJyx7ZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlLHZhbHVlOntuYW1lOiJVaU1lbnUiLGZpbGVuYW1lOiJzcmMvY29tcG9uZW50cy91aS91aS1tZW51LmpzIn19KTt9OyhmdW5jdGlvbigpe3ZhciByZWFjdEhvdExvYWRlcj10eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwhPT0ndW5kZWZpbmVkJz9yZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0OnVuZGVmaW5lZDtpZighcmVhY3RIb3RMb2FkZXIpe3JldHVybjt9cmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoU3R5bGVkTWVudSwiU3R5bGVkTWVudSIsIi9Vc2Vycy9kdXN0eS9Db2RlL3BhcmtiZW5jaC9vZGluLXdlYi9zcmMvY29tcG9uZW50cy91aS91aS1tZW51LmpzIik7cmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoVWlNZW51QmFzZSwiVWlNZW51QmFzZSIsIi9Vc2Vycy9kdXN0eS9Db2RlL3BhcmtiZW5jaC9vZGluLXdlYi9zcmMvY29tcG9uZW50cy91aS91aS1tZW51LmpzIik7cmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoVWlNZW51LCJVaU1lbnUiLCIvVXNlcnMvZHVzdHkvQ29kZS9wYXJrYmVuY2gvb2Rpbi13ZWIvc3JjL2NvbXBvbmVudHMvdWkvdWktbWVudS5qcyIpO30pKCk7OyhmdW5jdGlvbigpe3ZhciBsZWF2ZU1vZHVsZT10eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwhPT0ndW5kZWZpbmVkJz9yZWFjdEhvdExvYWRlckdsb2JhbC5sZWF2ZU1vZHVsZTp1bmRlZmluZWQ7bGVhdmVNb2R1bGUmJmxlYXZlTW9kdWxlKG1vZHVsZSk7fSkoKTs="},{"version":3,"sources":["/Users/dusty/Code/parkbench/odin-web/src/components/ui/ui-menu.js"],"names":["React","styled","Menu","Column","Switch","Route","withRouter","Redirect","UiLoading","AngularComponent","StyledMenu","div","UiMenuBase","match","location","menu","renderRoute","routeProps","path","params","route","section","items","find","item","renderDefault","component","angularComponent","props","isActive","url","pathname","startsWith","map","label","name","overflow","UiMenu"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { Menu, Column } from 'rbx'\nimport { Switch, Route, withRouter, Redirect } from 'react-router-dom'\nimport { UiLoading } from '@/components/ui'\nimport { AngularComponent } from '@/components/angular-component'\n\nconst StyledMenu = styled.div`\n  background-color: white;\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\n  padding: 1rem;\n`\n\nconst UiMenuBase = ({ match, location, menu = [] }) => {\n  const renderRoute = routeProps => {\n    const path = routeProps.match.params.path\n    let route\n    for (const section of menu) {\n      route = section.items.find(item => item.path === path)\n      if (route) break\n    }\n    if (!route) return renderDefault()\n    const { component, angularComponent, ...props } = route\n    if (angularComponent) {\n      return <AngularComponent component={angularComponent} {...props} />\n    } else {\n      return <route.component {...props} {...routeProps} />\n    }\n  }\n\n  const isActive = item => {\n    const path = `${match.url}/${item.path}`\n    return (\n      location.pathname === path || location.pathname.startsWith(`${path}/`)\n    )\n  }\n\n  // select the first route from the first section\n  const renderDefault = () => {\n    const section = menu[0]\n    const route = section && section.items[0]\n    return route ? (\n      <Redirect to={`${match.url}/${route.path}`} />\n    ) : (\n      <UiLoading />\n    )\n  }\n\n  return (\n    <>\n      <Column.Group>\n        <Column narrow>\n          <Menu as={StyledMenu}>\n            {menu.map(section => (\n              <React.Fragment key={section.label}>\n                <Menu.Label>{section.label}</Menu.Label>\n                <Menu.List>\n                  {section.items.map(item => {\n                    const path = `${match.url}/${item.path}`\n                    return (\n                      <Menu.List.Item\n                        key={item.path}\n                        active={isActive(item)}\n                        href={`#!${path}`}\n                      >\n                        {item.name}\n                      </Menu.List.Item>\n                    )\n                  })}\n                </Menu.List>\n              </React.Fragment>\n            ))}\n          </Menu>\n        </Column>\n        <Column style={{ overflow: 'auto' }}>\n          <Switch>\n            <Route path={`${match.path}/:path`} render={renderRoute} />\n            <Route render={renderDefault} />\n          </Switch>\n        </Column>\n      </Column.Group>\n    </>\n  )\n}\n\nUiMenuBase.propTypes = {\n  match: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n  menu: PropTypes.arrayOf(\n    PropTypes.shape({\n      label: PropTypes.string.isRequired,\n      items: PropTypes.arrayOf(\n        PropTypes.shape({\n          name: PropTypes.string.isRequired,\n          path: PropTypes.string.isRequired,\n          component: PropTypes.any,\n          angularComponent: PropTypes.string\n        })\n      )\n    })\n  ).isRequired\n}\n\nexport const UiMenu = withRouter(UiMenuBase)\n"]}]}