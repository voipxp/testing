{"remainingRequest":"/Users/dusty/Code/parkbench/odin-web/node_modules/thread-loader/dist/cjs.js??ref--5-1!/Users/dusty/Code/parkbench/odin-web/node_modules/babel-loader/lib/index.js??ref--5-2!/Users/dusty/Code/parkbench/odin-web/node_modules/source-map-loader/index.js!/Users/dusty/Code/parkbench/odin-web/src/utils/acl.js","dependencies":[{"path":"/Users/dusty/Code/parkbench/odin-web/src/utils/acl.js","mtime":1567098716404},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/docz/node_modules/cache-loader/dist/cjs.js","mtime":1557854551322},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/thread-loader/dist/cjs.js","mtime":1565388327920},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/babel-loader/lib/index.js","mtime":1557854551208},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/source-map-loader/index.js","mtime":1555547971189}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:KGZ1bmN0aW9uKCl7dmFyIGVudGVyTW9kdWxlPXR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCE9PSd1bmRlZmluZWQnP3JlYWN0SG90TG9hZGVyR2xvYmFsLmVudGVyTW9kdWxlOnVuZGVmaW5lZDtlbnRlck1vZHVsZSYmZW50ZXJNb2R1bGUobW9kdWxlKTt9KSgpO3ZhciBfX3NpZ25hdHVyZV9fPXR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCE9PSd1bmRlZmluZWQnP3JlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQuc2lnbmF0dXJlOmZ1bmN0aW9uKGEpe3JldHVybiBhO307aW1wb3J0e3VzZVNlbGVjdG9yfWZyb20ncmVhY3QtcmVkdXgnO2ltcG9ydHt1c2VDYWxsYmFja31mcm9tJ3JlYWN0Jzt2YXIgaGFzTGV2ZWw9ZnVuY3Rpb24gaGFzTGV2ZWwobG9naW5UeXBlLHJlcXVpcmVkVHlwZSl7dmFyIHR5cGVzPXsnVXNlcic6MSwnR3JvdXAnOjIsJ1NlcnZpY2UgUHJvdmlkZXInOjMsJ1Jlc2VsbGVyJzo0LCdQcm92aXNpb25pbmcnOjUsJ1N5c3RlbSc6Nn07dmFyIHVzZXI9dHlwZXNbbG9naW5UeXBlXXx8MDt2YXIgcmVxdWlyZWQ9dHlwZXNbcmVxdWlyZWRUeXBlXXx8MTA7cmV0dXJuIHVzZXI+PXJlcXVpcmVkO307dmFyIGhhc1VzZXI9ZnVuY3Rpb24gaGFzVXNlcih0eXBlKXtyZXR1cm4gaGFzTGV2ZWwodHlwZSwnVXNlcicpO307dmFyIGhhc0dyb3VwPWZ1bmN0aW9uIGhhc0dyb3VwKHR5cGUpe3JldHVybiBoYXNMZXZlbCh0eXBlLCdHcm91cCcpO307dmFyIGhhc1NlcnZpY2VQcm92aWRlcj1mdW5jdGlvbiBoYXNTZXJ2aWNlUHJvdmlkZXIodHlwZSl7cmV0dXJuIGhhc0xldmVsKHR5cGUsJ1NlcnZpY2UgUHJvdmlkZXInKTt9O3ZhciBoYXNSZXNlbGxlcj1mdW5jdGlvbiBoYXNSZXNlbGxlcih0eXBlKXtyZXR1cm4gaGFzTGV2ZWwodHlwZSwnUmVzZWxsZXInKTt9O3ZhciBoYXNQcm92aXNpb25pbmc9ZnVuY3Rpb24gaGFzUHJvdmlzaW9uaW5nKHR5cGUpe3JldHVybiBoYXNMZXZlbCh0eXBlLCdQcm92aXNpb25pbmcnKTt9O3ZhciBoYXNTeXN0ZW09ZnVuY3Rpb24gaGFzU3lzdGVtKHR5cGUpe3JldHVybiBoYXNMZXZlbCh0eXBlLCdTeXN0ZW0nKTt9O3ZhciBoYXNWZXJzaW9uPWZ1bmN0aW9uIGhhc1ZlcnNpb24oY3VycmVudCxyZXF1aXJlZCl7dmFyIGN1cnJlbnRWZXJzaW9uPXBhcnNlRmxvYXQoY3VycmVudC5yZXBsYWNlKCdzcCcsJy4nKSk7dmFyIHJlcXVpcmVkVmVyc2lvbj1wYXJzZUZsb2F0KHJlcXVpcmVkLnJlcGxhY2UoJ3NwJywnLicpKTtyZXR1cm4gY3VycmVudFZlcnNpb24+PXJlcXVpcmVkVmVyc2lvbjt9O2V4cG9ydCB2YXIgdXNlQWNsPWZ1bmN0aW9uIHVzZUFjbCgpe3ZhciBzZXNzaW9uPXVzZVNlbGVjdG9yKGZ1bmN0aW9uKHN0YXRlKXtyZXR1cm4gc3RhdGUuc2Vzc2lvbjt9KTt2YXIgbG9naW5UeXBlPXNlc3Npb24ubG9naW5UeXBlLGlzUGFhc0FkbWluPXNlc3Npb24uaXNQYWFzQWRtaW4sc29mdHdhcmVWZXJzaW9uPXNlc3Npb24uc29mdHdhcmVWZXJzaW9uO3JldHVybntpc0xldmVsOnVzZUNhbGxiYWNrKGZ1bmN0aW9uKGxldmVsKXtyZXR1cm4gbG9naW5UeXBlPT09bGV2ZWw7fSxbbG9naW5UeXBlXSksaXNQYWFzQWRtaW46dXNlQ2FsbGJhY2soZnVuY3Rpb24oKXtyZXR1cm4gaXNQYWFzQWRtaW47fSxbaXNQYWFzQWRtaW5dKSxoYXNMZXZlbDp1c2VDYWxsYmFjayhmdW5jdGlvbihsZXZlbCl7cmV0dXJuIGhhc0xldmVsKGxvZ2luVHlwZSxsZXZlbCk7fSxbbG9naW5UeXBlXSksaGFzVXNlcjp1c2VDYWxsYmFjayhmdW5jdGlvbigpe3JldHVybiBoYXNVc2VyKGxvZ2luVHlwZSwnR3JvdXAnKTt9LFtsb2dpblR5cGVdKSxoYXNHcm91cDp1c2VDYWxsYmFjayhmdW5jdGlvbigpe3JldHVybiBoYXNHcm91cChsb2dpblR5cGUsJ0dyb3VwJyk7fSxbbG9naW5UeXBlXSksaGFzU2VydmljZVByb3ZpZGVyOnVzZUNhbGxiYWNrKGZ1bmN0aW9uKCl7cmV0dXJuIGhhc1NlcnZpY2VQcm92aWRlcihsb2dpblR5cGUsJ1NlcnZpY2VQcm92aWRlcicpO30sW2xvZ2luVHlwZV0pLGhhc1Jlc2VsbGVyOnVzZUNhbGxiYWNrKGZ1bmN0aW9uKCl7cmV0dXJuIGhhc1Jlc2VsbGVyKGxvZ2luVHlwZSwnUmVzZWxsZXInKTt9LFtsb2dpblR5cGVdKSxoYXNQcm92aXNpb25pbmc6dXNlQ2FsbGJhY2soZnVuY3Rpb24oKXtyZXR1cm4gaGFzUHJvdmlzaW9uaW5nKGxvZ2luVHlwZSwnUHJvdmlzaW9uaW5nJyk7fSxbbG9naW5UeXBlXSksaGFzU3lzdGVtOnVzZUNhbGxiYWNrKGZ1bmN0aW9uKCl7cmV0dXJuIGhhc1N5c3RlbShsb2dpblR5cGUsJ1N5c3RlbScpO30sW2xvZ2luVHlwZV0pLGhhc1ZlcnNpb246dXNlQ2FsbGJhY2soZnVuY3Rpb24odmVyc2lvbil7cmV0dXJuIGhhc1ZlcnNpb24oc29mdHdhcmVWZXJzaW9uLHZlcnNpb24pO30sW3NvZnR3YXJlVmVyc2lvbl0pfTt9O19fc2lnbmF0dXJlX18odXNlQWNsLCJ1c2VTZWxlY3RvcntzZXNzaW9ufVxudXNlQ2FsbGJhY2t7fVxudXNlQ2FsbGJhY2t7fVxudXNlQ2FsbGJhY2t7fVxudXNlQ2FsbGJhY2t7fVxudXNlQ2FsbGJhY2t7fVxudXNlQ2FsbGJhY2t7fVxudXNlQ2FsbGJhY2t7fVxudXNlQ2FsbGJhY2t7fVxudXNlQ2FsbGJhY2t7fVxudXNlQ2FsbGJhY2t7fSIsZnVuY3Rpb24oKXtyZXR1cm5bdXNlU2VsZWN0b3JdO30pO2lmKHR5cGVvZiB1c2VBY2whPT0ndW5kZWZpbmVkJyYmdXNlQWNsJiZ1c2VBY2w9PT1PYmplY3QodXNlQWNsKSYmT2JqZWN0LmlzRXh0ZW5zaWJsZSh1c2VBY2wpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodXNlQWNsLCdfX2ZpbGVtZXRhJyx7ZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlLHZhbHVlOntuYW1lOiJ1c2VBY2wiLGZpbGVuYW1lOiJzcmMvdXRpbHMvYWNsLmpzIn19KTt9OyhmdW5jdGlvbigpe3ZhciByZWFjdEhvdExvYWRlcj10eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwhPT0ndW5kZWZpbmVkJz9yZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0OnVuZGVmaW5lZDtpZighcmVhY3RIb3RMb2FkZXIpe3JldHVybjt9cmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoaGFzTGV2ZWwsImhhc0xldmVsIiwiL1VzZXJzL2R1c3R5L0NvZGUvcGFya2JlbmNoL29kaW4td2ViL3NyYy91dGlscy9hY2wuanMiKTtyZWFjdEhvdExvYWRlci5yZWdpc3RlcihoYXNVc2VyLCJoYXNVc2VyIiwiL1VzZXJzL2R1c3R5L0NvZGUvcGFya2JlbmNoL29kaW4td2ViL3NyYy91dGlscy9hY2wuanMiKTtyZWFjdEhvdExvYWRlci5yZWdpc3RlcihoYXNHcm91cCwiaGFzR3JvdXAiLCIvVXNlcnMvZHVzdHkvQ29kZS9wYXJrYmVuY2gvb2Rpbi13ZWIvc3JjL3V0aWxzL2FjbC5qcyIpO3JlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGhhc1NlcnZpY2VQcm92aWRlciwiaGFzU2VydmljZVByb3ZpZGVyIiwiL1VzZXJzL2R1c3R5L0NvZGUvcGFya2JlbmNoL29kaW4td2ViL3NyYy91dGlscy9hY2wuanMiKTtyZWFjdEhvdExvYWRlci5yZWdpc3RlcihoYXNSZXNlbGxlciwiaGFzUmVzZWxsZXIiLCIvVXNlcnMvZHVzdHkvQ29kZS9wYXJrYmVuY2gvb2Rpbi13ZWIvc3JjL3V0aWxzL2FjbC5qcyIpO3JlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGhhc1Byb3Zpc2lvbmluZywiaGFzUHJvdmlzaW9uaW5nIiwiL1VzZXJzL2R1c3R5L0NvZGUvcGFya2JlbmNoL29kaW4td2ViL3NyYy91dGlscy9hY2wuanMiKTtyZWFjdEhvdExvYWRlci5yZWdpc3RlcihoYXNTeXN0ZW0sImhhc1N5c3RlbSIsIi9Vc2Vycy9kdXN0eS9Db2RlL3BhcmtiZW5jaC9vZGluLXdlYi9zcmMvdXRpbHMvYWNsLmpzIik7cmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoaGFzVmVyc2lvbiwiaGFzVmVyc2lvbiIsIi9Vc2Vycy9kdXN0eS9Db2RlL3BhcmtiZW5jaC9vZGluLXdlYi9zcmMvdXRpbHMvYWNsLmpzIik7cmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIodXNlQWNsLCJ1c2VBY2wiLCIvVXNlcnMvZHVzdHkvQ29kZS9wYXJrYmVuY2gvb2Rpbi13ZWIvc3JjL3V0aWxzL2FjbC5qcyIpO30pKCk7OyhmdW5jdGlvbigpe3ZhciBsZWF2ZU1vZHVsZT10eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwhPT0ndW5kZWZpbmVkJz9yZWFjdEhvdExvYWRlckdsb2JhbC5sZWF2ZU1vZHVsZTp1bmRlZmluZWQ7bGVhdmVNb2R1bGUmJmxlYXZlTW9kdWxlKG1vZHVsZSk7fSkoKTs="},{"version":3,"sources":["/Users/dusty/Code/parkbench/odin-web/src/utils/acl.js"],"names":["useSelector","useCallback","hasLevel","loginType","requiredType","types","user","required","hasUser","type","hasGroup","hasServiceProvider","hasReseller","hasProvisioning","hasSystem","hasVersion","current","currentVersion","parseFloat","replace","requiredVersion","useAcl","session","state","isPaasAdmin","softwareVersion","isLevel","level","version"],"mappings":"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","sourcesContent":["import { useSelector } from 'react-redux'\nimport { useCallback } from 'react'\n\nconst hasLevel = (loginType, requiredType) => {\n  const types = {\n    'User': 1,\n    'Group': 2,\n    'Service Provider': 3,\n    'Reseller': 4,\n    'Provisioning': 5,\n    'System': 6\n  }\n  const user = types[loginType] || 0\n  const required = types[requiredType] || 10\n  return user >= required\n}\n\nconst hasUser = type => hasLevel(type, 'User')\nconst hasGroup = type => hasLevel(type, 'Group')\nconst hasServiceProvider = type => hasLevel(type, 'Service Provider')\nconst hasReseller = type => hasLevel(type, 'Reseller')\nconst hasProvisioning = type => hasLevel(type, 'Provisioning')\nconst hasSystem = type => hasLevel(type, 'System')\n\nconst hasVersion = (current, required) => {\n  const currentVersion = parseFloat(current.replace('sp', '.'))\n  const requiredVersion = parseFloat(required.replace('sp', '.'))\n  return currentVersion >= requiredVersion\n}\n\nexport const useAcl = () => {\n  const session = useSelector(state => state.session)\n  const { loginType, isPaasAdmin, softwareVersion } = session\n  return {\n    isLevel: useCallback(level => loginType === level, [loginType]),\n    isPaasAdmin: useCallback(() => isPaasAdmin, [isPaasAdmin]),\n    hasLevel: useCallback(level => hasLevel(loginType, level), [loginType]),\n    hasUser: useCallback(() => hasUser(loginType, 'Group'), [loginType]),\n    hasGroup: useCallback(() => hasGroup(loginType, 'Group'), [loginType]),\n    hasServiceProvider: useCallback(\n      () => hasServiceProvider(loginType, 'ServiceProvider'),\n      [loginType]\n    ),\n    hasReseller: useCallback(() => hasReseller(loginType, 'Reseller'), [\n      loginType\n    ]),\n    hasProvisioning: useCallback(\n      () => hasProvisioning(loginType, 'Provisioning'),\n      [loginType]\n    ),\n    hasSystem: useCallback(() => hasSystem(loginType, 'System'), [loginType]),\n    hasVersion: useCallback(version => hasVersion(softwareVersion, version), [\n      softwareVersion\n    ])\n  }\n}\n"]}]}