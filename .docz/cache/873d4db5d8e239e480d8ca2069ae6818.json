{"remainingRequest":"/Users/dusty/Code/parkbench/odin-web/node_modules/thread-loader/dist/cjs.js??ref--5-1!/Users/dusty/Code/parkbench/odin-web/node_modules/babel-loader/lib/index.js??ref--5-2!/Users/dusty/Code/parkbench/odin-web/node_modules/source-map-loader/index.js!/Users/dusty/Code/parkbench/odin-web/src/utils/user-services.js","dependencies":[{"path":"/Users/dusty/Code/parkbench/odin-web/src/utils/user-services.js","mtime":1567098716408},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/docz/node_modules/cache-loader/dist/cjs.js","mtime":1557854551322},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/thread-loader/dist/cjs.js","mtime":1565388327920},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/babel-loader/lib/index.js","mtime":1557854551208},{"path":"/Users/dusty/Code/parkbench/odin-web/node_modules/source-map-loader/index.js","mtime":1555547971189}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:KGZ1bmN0aW9uKCl7dmFyIGVudGVyTW9kdWxlPXR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCE9PSd1bmRlZmluZWQnP3JlYWN0SG90TG9hZGVyR2xvYmFsLmVudGVyTW9kdWxlOnVuZGVmaW5lZDtlbnRlck1vZHVsZSYmZW50ZXJNb2R1bGUobW9kdWxlKTt9KSgpO3ZhciBfX3NpZ25hdHVyZV9fPXR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCE9PSd1bmRlZmluZWQnP3JlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQuc2lnbmF0dXJlOmZ1bmN0aW9uKGEpe3JldHVybiBhO307aW1wb3J0e3VzZVNlbGVjdG9yfWZyb20ncmVhY3QtcmVkdXgnO2ltcG9ydHt1c2VDYWxsYmFjayx1c2VNZW1vfWZyb20ncmVhY3QnO3ZhciBpc0Fzc2lnbmVkPWZ1bmN0aW9uIGlzQXNzaWduZWQoc2VydmljZU5hbWUpe3ZhciBhc3NpZ25lZD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06e307dmFyIHVzZXJTZXJ2aWNlcz1hc3NpZ25lZC51c2VyU2VydmljZXN8fFtdO3JldHVybiB1c2VyU2VydmljZXMuZmluZChmdW5jdGlvbihzZXJ2aWNlKXtyZXR1cm4gc2VydmljZS5zZXJ2aWNlTmFtZT09PXNlcnZpY2VOYW1lO30pO307dmFyIGlzVmlld2FibGU9ZnVuY3Rpb24gaXNWaWV3YWJsZShzZXJ2aWNlTmFtZSl7dmFyIHZpZXdhYmxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp7fTt2YXIgbG9naW5UeXBlPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dW5kZWZpbmVkO2lmKGxvZ2luVHlwZSE9PSdVc2VyJylyZXR1cm4gdHJ1ZTt2YXIgdmlld2FibGVTZXJ2aWNlcz12aWV3YWJsZS51c2VyU2VydmljZXN8fFtdO3JldHVybiB2aWV3YWJsZVNlcnZpY2VzLmZpbmQoZnVuY3Rpb24oc2VydmljZSl7cmV0dXJuIHNlcnZpY2Uuc2VydmljZU5hbWU9PT1zZXJ2aWNlTmFtZTt9KTt9O3ZhciBoYXNVc2VyU2VydmljZT1mdW5jdGlvbiBoYXNVc2VyU2VydmljZShzZXJ2aWNlLGFzc2lnbmVkLHZpZXdhYmxlLGxvZ2luVHlwZSl7dmFyIHNlcnZpY2VOYW1lPXNlcnZpY2Uuc2VydmljZU5hbWV8fHNlcnZpY2UubmFtZXx8c2VydmljZTtyZXR1cm4gaXNBc3NpZ25lZChzZXJ2aWNlTmFtZSxhc3NpZ25lZCkmJmlzVmlld2FibGUoc2VydmljZU5hbWUsdmlld2FibGUsbG9naW5UeXBlKTt9O2V4cG9ydCB2YXIgdXNlVXNlclNlcnZpY2VQZXJtaXNzaW9ucz1mdW5jdGlvbiB1c2VVc2VyU2VydmljZVBlcm1pc3Npb25zKHVzZXJJZCl7dmFyIF91c2VTZWxlY3Rvcj11c2VTZWxlY3RvcihmdW5jdGlvbihzdGF0ZSl7cmV0dXJue3Nlc3Npb246c3RhdGUuc2Vzc2lvbix1c2VyVmlld2FibGVTZXJ2aWNlczpzdGF0ZS51c2VyVmlld2FibGVTZXJ2aWNlcyx1c2VyQXNzaWduZWRTZXJ2aWNlczpzdGF0ZS51c2VyQXNzaWduZWRTZXJ2aWNlc307fSksc2Vzc2lvbj1fdXNlU2VsZWN0b3Iuc2Vzc2lvbix1c2VyVmlld2FibGVTZXJ2aWNlcz1fdXNlU2VsZWN0b3IudXNlclZpZXdhYmxlU2VydmljZXMsdXNlckFzc2lnbmVkU2VydmljZXM9X3VzZVNlbGVjdG9yLnVzZXJBc3NpZ25lZFNlcnZpY2VzO3JldHVybnt1c2VyVmlld2FibGVTZXJ2aWNlczp1c2VNZW1vKGZ1bmN0aW9uKCl7cmV0dXJuIHNlc3Npb24ubG9naW5UeXBlIT09J1VzZXInP3VzZXJBc3NpZ25lZFNlcnZpY2VzW3VzZXJJZF06dXNlclZpZXdhYmxlU2VydmljZXNbdXNlcklkXTt9LFtzZXNzaW9uLmxvZ2luVHlwZSx1c2VyQXNzaWduZWRTZXJ2aWNlcyx1c2VySWQsdXNlclZpZXdhYmxlU2VydmljZXNdKSwvLyBjYW4gcGFzcyBpbiBhIHNpbmdsZSB1c2VyIHNlcnZpY2Ugb3IgYW4gYXJyYXkgb2YgdXNlciBzZXJ2aWNlcwovLyBvbiBhbiBhcnJheSB3aWxsIHJldHVybiB0cnVlIGlmIG9uZSBpcyB2YWxpZAovLyBlZzogWydTaGFyZWQgQ2FsbCBBcHBlYXJhbmNlJywgJ1NoYXJlZCBDYWxsIEFwcGVhcmFuY2UgNScsIC4uLl0KaGFzVXNlclNlcnZpY2U6dXNlQ2FsbGJhY2soZnVuY3Rpb24oc2VydmljZSl7dmFyIHNlcnZpY2VzPVtzZXJ2aWNlXS5mbGF0KCk7cmV0dXJuIHNlcnZpY2VzLmZpbmQoZnVuY3Rpb24oX3NlcnZpY2Upe3JldHVybiBoYXNVc2VyU2VydmljZShfc2VydmljZSx1c2VyQXNzaWduZWRTZXJ2aWNlc1t1c2VySWRdLHVzZXJWaWV3YWJsZVNlcnZpY2VzW3VzZXJJZF0sc2Vzc2lvbi5sb2dpblR5cGUpO30pO30sW3Nlc3Npb24ubG9naW5UeXBlLHVzZXJBc3NpZ25lZFNlcnZpY2VzLHVzZXJJZCx1c2VyVmlld2FibGVTZXJ2aWNlc10pfTt9O19fc2lnbmF0dXJlX18odXNlVXNlclNlcnZpY2VQZXJtaXNzaW9ucywidXNlU2VsZWN0b3J7eyBzZXNzaW9uLCB1c2VyVmlld2FibGVTZXJ2aWNlcywgdXNlckFzc2lnbmVkU2VydmljZXMgfX1cbnVzZU1lbW97fVxudXNlQ2FsbGJhY2t7fSIsZnVuY3Rpb24oKXtyZXR1cm5bdXNlU2VsZWN0b3JdO30pO2lmKHR5cGVvZiB1c2VVc2VyU2VydmljZVBlcm1pc3Npb25zIT09J3VuZGVmaW5lZCcmJnVzZVVzZXJTZXJ2aWNlUGVybWlzc2lvbnMmJnVzZVVzZXJTZXJ2aWNlUGVybWlzc2lvbnM9PT1PYmplY3QodXNlVXNlclNlcnZpY2VQZXJtaXNzaW9ucykmJk9iamVjdC5pc0V4dGVuc2libGUodXNlVXNlclNlcnZpY2VQZXJtaXNzaW9ucykpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh1c2VVc2VyU2VydmljZVBlcm1pc3Npb25zLCdfX2ZpbGVtZXRhJyx7ZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlLHZhbHVlOntuYW1lOiJ1c2VVc2VyU2VydmljZVBlcm1pc3Npb25zIixmaWxlbmFtZToic3JjL3V0aWxzL3VzZXItc2VydmljZXMuanMifX0pO307KGZ1bmN0aW9uKCl7dmFyIHJlYWN0SG90TG9hZGVyPXR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCE9PSd1bmRlZmluZWQnP3JlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQ6dW5kZWZpbmVkO2lmKCFyZWFjdEhvdExvYWRlcil7cmV0dXJuO31yZWFjdEhvdExvYWRlci5yZWdpc3Rlcihpc0Fzc2lnbmVkLCJpc0Fzc2lnbmVkIiwiL1VzZXJzL2R1c3R5L0NvZGUvcGFya2JlbmNoL29kaW4td2ViL3NyYy91dGlscy91c2VyLXNlcnZpY2VzLmpzIik7cmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoaXNWaWV3YWJsZSwiaXNWaWV3YWJsZSIsIi9Vc2Vycy9kdXN0eS9Db2RlL3BhcmtiZW5jaC9vZGluLXdlYi9zcmMvdXRpbHMvdXNlci1zZXJ2aWNlcy5qcyIpO3JlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGhhc1VzZXJTZXJ2aWNlLCJoYXNVc2VyU2VydmljZSIsIi9Vc2Vycy9kdXN0eS9Db2RlL3BhcmtiZW5jaC9vZGluLXdlYi9zcmMvdXRpbHMvdXNlci1zZXJ2aWNlcy5qcyIpO3JlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKHVzZVVzZXJTZXJ2aWNlUGVybWlzc2lvbnMsInVzZVVzZXJTZXJ2aWNlUGVybWlzc2lvbnMiLCIvVXNlcnMvZHVzdHkvQ29kZS9wYXJrYmVuY2gvb2Rpbi13ZWIvc3JjL3V0aWxzL3VzZXItc2VydmljZXMuanMiKTt9KSgpOzsoZnVuY3Rpb24oKXt2YXIgbGVhdmVNb2R1bGU9dHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsIT09J3VuZGVmaW5lZCc/cmVhY3RIb3RMb2FkZXJHbG9iYWwubGVhdmVNb2R1bGU6dW5kZWZpbmVkO2xlYXZlTW9kdWxlJiZsZWF2ZU1vZHVsZShtb2R1bGUpO30pKCk7"},{"version":3,"sources":["/Users/dusty/Code/parkbench/odin-web/src/utils/user-services.js"],"names":["useSelector","useCallback","useMemo","isAssigned","serviceName","assigned","userServices","find","service","isViewable","viewable","loginType","viewableServices","hasUserService","name","useUserServicePermissions","userId","state","session","userViewableServices","userAssignedServices","services","flat","_service"],"mappings":"iRAAA,OAASA,WAAT,KAA4B,aAA5B,CACA,OAASC,WAAT,CAAsBC,OAAtB,KAAqC,OAArC,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,WAAD,CAAgC,IAAlBC,CAAAA,QAAkB,2DAAP,EAAO,CACjD,GAAMC,CAAAA,YAAY,CAAGD,QAAQ,CAACC,YAAT,EAAyB,EAA9C,CACA,MAAOA,CAAAA,YAAY,CAACC,IAAb,CAAkB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACJ,WAAR,GAAwBA,WAA5B,EAAzB,CAAP,CACD,CAHD,CAKA,GAAMK,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACL,WAAD,CAA2C,IAA7BM,CAAAA,QAA6B,2DAAlB,EAAkB,IAAdC,CAAAA,SAAc,2CAC5D,GAAIA,SAAS,GAAK,MAAlB,CAA0B,MAAO,KAAP,CAC1B,GAAMC,CAAAA,gBAAgB,CAAGF,QAAQ,CAACJ,YAAT,EAAyB,EAAlD,CACA,MAAOM,CAAAA,gBAAgB,CAACL,IAAjB,CAAsB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACJ,WAAR,GAAwBA,WAA5B,EAA7B,CAAP,CACD,CAJD,CAMA,GAAMS,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACL,OAAD,CAAUH,QAAV,CAAoBK,QAApB,CAA8BC,SAA9B,CAA4C,CACjE,GAAMP,CAAAA,WAAW,CAAGI,OAAO,CAACJ,WAAR,EAAuBI,OAAO,CAACM,IAA/B,EAAuCN,OAA3D,CACA,MACEL,CAAAA,UAAU,CAACC,WAAD,CAAcC,QAAd,CAAV,EACAI,UAAU,CAACL,WAAD,CAAcM,QAAd,CAAwBC,SAAxB,CAFZ,CAID,CAND,CAQA,MAAO,IAAMI,CAAAA,yBAAyB,CAAG,QAA5BA,CAAAA,yBAA4B,CAAAC,MAAM,CAAI,kBACehB,WAAW,CACzE,SAAAiB,KAAK,QAAK,CACRC,OAAO,CAAED,KAAK,CAACC,OADP,CAERC,oBAAoB,CAAEF,KAAK,CAACE,oBAFpB,CAGRC,oBAAoB,CAAEH,KAAK,CAACG,oBAHpB,CAAL,EADoE,CAD1B,CACzCF,OADyC,cACzCA,OADyC,CAChCC,oBADgC,cAChCA,oBADgC,CACVC,oBADU,cACVA,oBADU,CAQjD,MAAO,CACLD,oBAAoB,CAAEjB,OAAO,CAAC,UAAM,CAClC,MAAOgB,CAAAA,OAAO,CAACP,SAAR,GAAsB,MAAtB,CACHS,oBAAoB,CAACJ,MAAD,CADjB,CAEHG,oBAAoB,CAACH,MAAD,CAFxB,CAGD,CAJ4B,CAI1B,CAACE,OAAO,CAACP,SAAT,CAAoBS,oBAApB,CAA0CJ,MAA1C,CAAkDG,oBAAlD,CAJ0B,CADxB,CAML;AACA;AACA;AACAN,cAAc,CAAEZ,WAAW,CACzB,SAAAO,OAAO,CAAI,CACT,GAAMa,CAAAA,QAAQ,CAAG,CAACb,OAAD,EAAUc,IAAV,EAAjB,CACA,MAAOD,CAAAA,QAAQ,CAACd,IAAT,CAAc,SAAAgB,QAAQ,CAAI,CAC/B,MAAOV,CAAAA,cAAc,CACnBU,QADmB,CAEnBH,oBAAoB,CAACJ,MAAD,CAFD,CAGnBG,oBAAoB,CAACH,MAAD,CAHD,CAInBE,OAAO,CAACP,SAJW,CAArB,CAMD,CAPM,CAAP,CAQD,CAXwB,CAYzB,CAACO,OAAO,CAACP,SAAT,CAAoBS,oBAApB,CAA0CJ,MAA1C,CAAkDG,oBAAlD,CAZyB,CATtB,CAAP,CAwBD,CAhCM,C,cAAMJ,yB,oHACqDf,W,yhBApB5DG,U,yGAKAM,U,yGAMAI,c,6GAQOE,yB","sourcesContent":["import { useSelector } from 'react-redux'\nimport { useCallback, useMemo } from 'react'\n\nconst isAssigned = (serviceName, assigned = {}) => {\n  const userServices = assigned.userServices || []\n  return userServices.find(service => service.serviceName === serviceName)\n}\n\nconst isViewable = (serviceName, viewable = {}, loginType) => {\n  if (loginType !== 'User') return true\n  const viewableServices = viewable.userServices || []\n  return viewableServices.find(service => service.serviceName === serviceName)\n}\n\nconst hasUserService = (service, assigned, viewable, loginType) => {\n  const serviceName = service.serviceName || service.name || service\n  return (\n    isAssigned(serviceName, assigned) &&\n    isViewable(serviceName, viewable, loginType)\n  )\n}\n\nexport const useUserServicePermissions = userId => {\n  const { session, userViewableServices, userAssignedServices } = useSelector(\n    state => ({\n      session: state.session,\n      userViewableServices: state.userViewableServices,\n      userAssignedServices: state.userAssignedServices\n    })\n  )\n  return {\n    userViewableServices: useMemo(() => {\n      return session.loginType !== 'User'\n        ? userAssignedServices[userId]\n        : userViewableServices[userId]\n    }, [session.loginType, userAssignedServices, userId, userViewableServices]),\n    // can pass in a single user service or an array of user services\n    // on an array will return true if one is valid\n    // eg: ['Shared Call Appearance', 'Shared Call Appearance 5', ...]\n    hasUserService: useCallback(\n      service => {\n        const services = [service].flat()\n        return services.find(_service => {\n          return hasUserService(\n            _service,\n            userAssignedServices[userId],\n            userViewableServices[userId],\n            session.loginType\n          )\n        })\n      },\n      [session.loginType, userAssignedServices, userId, userViewableServices]\n    )\n  }\n}\n"]}]}