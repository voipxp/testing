{"version":3,"sources":["/Users/dusty/Code/parkbench/odin-web/src/utils/acl.js","/Users/dusty/Code/parkbench/odin-web/src/utils/module.js","/Users/dusty/Code/parkbench/odin-web/src/utils/password.js","/Users/dusty/Code/parkbench/odin-web/src/utils/routes.js","/Users/dusty/Code/parkbench/odin-web/src/utils/use-form.js","/Users/dusty/Code/parkbench/odin-web/src/utils/use-form.mdx","/Users/dusty/Code/parkbench/odin-web/src/utils/user-services.js"],"names":["hasLevel","loginType","requiredType","isPaasAdmin","types","hasGroup","type","hasServiceProvider","hasReseller","hasProvisioning","hasPaasAdmin","hasSystem","hasVersion","current","required","parseFloat","replace","useAcl","session","useSelector","state","useCallback","level","version","softwareVersion","getModule","name","modules","module","serviceName","permissions","camelCase","hasModulePermission","permission","hasModuleRead","hasModuleWrite","hasModuleUpdate","hasModuleDelete","moduleAlias","alias","moduleDescription","description","useModulePermissions","uiModules","generatePassword","rules","config","digits","restrictMinDigits","parseInt","minDigits","upper","restrictMinUpperCaseLetters","minUpperCaseLetters","lower","restrictMinLowerCaseLetters","minLowerCaseLetters","special","restrictMinNonAlphanumericCharacters","minNonAlphanumericCharacters","length","minLength","chars","concat","sampleSize","shuffle","join","userTypes","userPath","user","userType","serviceType","path","serviceProviderId","groupId","userId","stringify","serviceUserId","groupPath","group","serviceProviderPath","serviceProvider","useForm","initialState","formRef","useState","isValid","setValid","errors","setErrors","form","setForm","checkValidity","formData","FormData","newErrors","keys","reduce","acc","key","elements","validationMessage","useEffect","target","value","checked","makeShortcode","props","console","warn","UseFormExample","layoutProps","MDXLayout","MDXContent","components","mdxType","parentName","__position","__code","__scope","this","UiFormField","UiFormError","Button","Input","Playground","Props","React","useRef","firstName","lastName","age","onChange","ref","onSubmit","e","preventDefault","label","horizontal","placeholder","message","max","color","disabled","isMDXComponent","isAssigned","assigned","userServices","find","service","isViewable","viewable","viewableServices","hasUserService","useUserServicePermissions","userViewableServices","userAssignedServices","useMemo"],"mappings":"2ZAGaA,EAAW,SAACC,EAAWC,EAAcC,GAChD,GAAqB,eAAjBD,GAAiCC,EAAa,OAAO,EACzD,IAAMC,EAAQ,CACZ,KAAQ,EACR,MAAS,EACT,mBAAoB,EACpB,SAAY,EACZ,aAAgB,EAChB,OAAU,GAIZ,OAFaA,EAAMH,IAAc,KAChBG,EAAMF,IAAiB,K,oKAInC,IAAMG,EAAW,SAAAC,GAAI,OAAIN,EAASM,EAAM,U,oKACxC,IAAMC,EAAqB,SAAAD,GAAI,OAAIN,EAASM,EAAM,qB,8KAClD,IAAME,EAAc,SAAAF,GAAI,OAAIN,EAASM,EAAM,a,uKAC3C,IAAMG,EAAkB,SAAAH,GAAI,OAAIN,EAASM,EAAM,iB,2KAC/C,IAAMI,EAAe,SAAAJ,GAAI,OAAIN,EAASM,EAAM,e,wKAC5C,IAAMK,EAAY,SAAAL,GAAI,OAAIN,EAASM,EAAM,W,qKAEzC,IAAMM,EAAa,SAACC,EAASC,GAGlC,OAFuBC,WAAWF,EAAQG,QAAQ,KAAM,OAChCD,WAAWD,EAASE,QAAQ,KAAM,O,4KAI7C,CACbhB,WACAK,WACAE,qBACAG,eACAF,cACAC,kBACAE,YACAC,c,4LAGK,I,IAAMK,EAAS,WACpB,IAAMC,EAAUC,YAAY,SAAAC,GAAK,OAAIA,EAAMF,UAC3C,MAAO,CACLlB,SAAUqB,sBACR,SAAAC,GAAK,OAAItB,EAASkB,EAAQjB,UAAWqB,EAAOJ,EAAQf,cACpD,CAACe,EAAQf,YAAae,EAAQjB,YAEhCI,SAAUgB,sBAAY,kBAAMhB,EAASa,EAAQjB,YAAqB,CAChEiB,EAAQjB,YAEVM,mBAAoBc,sBAClB,kBAAMd,EAAmBW,EAAQjB,YACjC,CAACiB,EAAQjB,YAEXS,aAAcW,sBACZ,kBAAMX,EAAaQ,EAAQjB,UAAyBiB,EAAQf,cAC5D,CAACe,EAAQf,YAAae,EAAQjB,YAEhCO,YAAaa,sBACX,kBAAMb,EAAYU,EAAQjB,UAAuBiB,EAAQf,cACzD,CAACe,EAAQf,YAAae,EAAQjB,YAEhCQ,gBAAiBY,sBACf,kBAAMZ,EAAgBS,EAAQjB,YAC9B,CAACiB,EAAQjB,YAEXU,UAAWU,sBAAY,kBAAMV,EAAUO,EAAQjB,YAAsB,CACnEiB,EAAQjB,YAEVW,WAAYS,sBACV,SAAAE,GAAO,OAAIX,EAAWM,EAAQM,gBAAiBD,IAC/C,CAACL,EAAQM,oB,EA/BFP,E,iKACKE,O,iQAxCLnB,E,+EAeAK,E,+EACAE,E,yFACAC,E,kFACAC,E,sFACAC,E,mFACAC,E,gFAEAC,E,iFAiBAK,E,y0CCtCPQ,EAAY,SAACC,EAAMzB,EAAW0B,GAClC,GAAKD,EAAL,CACA,IACME,EAASD,EADID,EAAKG,aAAeH,EAAKA,MAAQA,GAEpD,GAAKE,EAEL,O,qVAAO,CAAP,GAAYA,EAAZ,CAAoBE,YADAF,EAAOE,YAAYC,IAAU9B,QAI7C+B,EAAsB,SAACN,EAAMzB,EAAW0B,EAASM,GACrD,IAAML,EAASH,EAAUC,EAAMzB,EAAW0B,GAC1C,QAAOC,GAASA,EAAOE,YAAYG,IAG/BC,EAAgB,SAACR,EAAMzB,EAAW0B,GACtC,OAAOK,EAAoBN,EAAMzB,EAAW0B,EAAS,SAGjDQ,EAAiB,SAACT,EAAMzB,EAAW0B,GACvC,OAAOK,EAAoBN,EAAMzB,EAAW0B,EAAS,UAGjDS,EAAkB,SAACV,EAAMzB,EAAW0B,GACxC,OAAOK,EAAoBN,EAAMzB,EAAW0B,EAAS,WAGjDU,EAAkB,SAACX,EAAMzB,EAAW0B,GACxC,OAAOK,EAAoBN,EAAMzB,EAAW0B,EAAS,WAGjDW,EAAc,SAACZ,EAAMC,GACzB,IAAMC,EAASH,EAAUC,EAAMC,GAC/B,OAAQC,GAAUA,EAAOW,OAAUb,GAG/Bc,EAAoB,SAACd,EAAMC,GAC/B,IAAMC,EAASH,EAAUC,EAAMC,GAC/B,OAAOC,GAAUA,EAAOa,aAGbC,EAAuB,WAAO,IAAD,EACTvB,YAAY,SAAAC,GAAK,MAAK,CACnDF,QAASE,EAAMF,QACfyB,UAAWvB,EAAMuB,aAFXzB,EADgC,EAChCA,QAASyB,EADuB,EACvBA,UAIjB,MAAO,CACLlB,UAAWJ,sBACT,SAAAK,GACE,OAAOD,EAAUC,EAAMR,EAAQjB,UAAW0C,IAE5C,CAACzB,EAAQjB,UAAW0C,IAEtBX,oBAAqBX,sBACnB,SAACK,EAAMO,GACL,OAAOD,EACLN,EACAR,EAAQjB,UACR0C,EACAV,IAGJ,CAACf,EAAQjB,UAAW0C,IAEtBT,cAAeb,sBACb,SAAAK,GACE,OAAOQ,EAAcR,EAAMR,EAAQjB,UAAW0C,IAEhD,CAACzB,EAAQjB,UAAW0C,IAEtBR,eAAgBd,sBACd,SAAAK,GACE,OAAOS,EAAeT,EAAMR,EAAQjB,UAAW0C,IAEjD,CAACzB,EAAQjB,UAAW0C,IAEtBP,gBAAiBf,sBACf,SAAAK,GACE,OAAOU,EAAgBV,EAAMR,EAAQjB,UAAW0C,IAElD,CAACzB,EAAQjB,UAAW0C,IAEtBN,gBAAiBhB,sBACf,SAAAK,GACE,OAAOW,EAAgBX,EAAMR,EAAQjB,UAAW0C,IAElD,CAACzB,EAAQjB,UAAW0C,IAEtBL,YAAajB,sBACX,SAAAK,GACE,OAAOY,EAAYZ,EAAMiB,IAE3B,CAACA,IAEHH,kBAAmBnB,sBACjB,SAAAK,GACE,OAAOc,EAAkBd,EAAMiB,IAEjC,CAACA,M,EAzDMD,E,gLACoBvB,O,kRAzC3BM,E,mFASAO,E,6FAKAE,E,uFAIAC,E,wFAIAC,E,yFAIAC,E,yFAIAC,E,qFAKAE,E,2FAKOE,E,4lBCzCAE,EAAmB,WAAiB,IAAhBC,EAAe,uDAAP,GACnCC,EAAS,CACXC,OAASF,EAAMG,mBAAqBC,SAASJ,EAAMK,YAAe,EAClEC,MACGN,EAAMO,6BACLH,SAASJ,EAAMQ,sBACjB,EACFC,MACGT,EAAMU,6BACLN,SAASJ,EAAMW,sBACjB,EACFC,QACGZ,EAAMa,sCACLT,SAASJ,EAAMc,+BACjB,EACFC,OAAQX,SAASJ,EAAMgB,YAAc,GAEnCd,EAAS,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACvDO,EAAQ,CACV,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEEH,EAAQ,CACV,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEEM,EAAU,CACZ,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEEK,EAAQ,GACTC,OAAOC,IAAWjB,EAAQD,EAAOC,SACjCgB,OAAOC,IAAWb,EAAOL,EAAOK,QAChCY,OAAOC,IAAWV,EAAOR,EAAOQ,QAChCS,OAAOC,IAAWP,EAASX,EAAOW,UAIrC,OAHIK,EAAMF,OAASd,EAAOc,SACxBE,EAAQA,EAAMC,OAAOC,IAAWV,EAAOR,EAAOc,OAASE,EAAMF,UAExDK,IAAQH,GAAOI,KAAK,K,+QAlGhBtB,E,0hBCDAuB,EAAY,CACvB,4BAA6B,+BAC7B,yBAA0B,+BAC1B,iBAAkB,+BAClB,6BAA8B,KAC9B,sBAAuB,KACvB,sBAAuB,yBACvB,wBAAyB,yBACzB,yBAA0B,yBAC1B,cAAe,yBACf,qBAAsB,qBACtB,oBAAqB,KACrB,wBAAyB,KACzB,eAAgB,eAChB,aAAc,uBACd,4BAA6B,KAC7B,qBAAsB,KACtB,4BAA6B,gBAC7B,uBAAwB,gBACxB,gBAAiB,KACjB,OAAU,QACV,cAAe,KACf,kBAAmB,KACnB,SAAY,M,gMAGP,IAAMC,EAAW,SAACC,EAAM/D,GAC7B,IAAMgE,EAAWhE,GAAQ+D,EAAKC,UAAYD,EAAKE,aAAe,SACxDC,EAAOL,EAAUG,GACvB,GAAKE,EACL,MAAa,UAATA,EACI,UAAN,OAAiBH,EAAKI,kBAAtB,YAA2CJ,EAAKK,QAAhD,YAA2DL,EAAKM,QAE1D,WAAN,OAAkBN,EAAKI,kBAAvB,YACEJ,EAAKK,QADP,YAEIF,EAFJ,YAEYI,oBAAU,CAAEC,cAAeR,EAAKM,W,uKAIzC,IAAMG,EAAY,SAAAC,GACvB,MAAM,WAAN,OAAkBA,EAAMN,kBAAxB,YAA6CM,EAAML,U,wKAG9C,IAAMM,EAAsB,SAAAC,GACjC,MAAM,qBAAN,OAA4BA,EAAgBR,oB,4LAG/B,CAAEN,YAAWC,WAAUU,YAAWE,uB,8RA/CpCb,E,mFA0BAC,E,kFAaAU,E,mFAIAE,E,4kCC3CAE,EAAU,SAACC,EAAcC,GAAa,IAAD,EACpBC,oBAAS,GADW,mBACzCC,EADyC,KAChCC,EADgC,OAEpBF,mBAAS,IAFW,mBAEzCG,EAFyC,KAEjCC,EAFiC,OAGxBJ,mBAASF,GAHe,mBAGzCO,EAHyC,KAGnCC,EAHmC,KAI1CC,EAAgBvE,sBAAY,WAChC,GAAI+D,GAAWA,EAAQvE,QAAS,CAC9B,IAAMgF,EAAW,IAAIC,SAASV,EAAQvE,SAChCkF,EAAY,YAAIF,EAASG,QAAQC,OAAO,SAACC,EAAKC,GAElD,OADAD,EAAIC,GAAOf,EAAQvE,QAAQuF,SAASD,GAAKE,kBAClCH,GACN,IACHX,EAASH,EAAQvE,QAAQ+E,iBACzBH,EAAUM,KAEX,CAACX,IACJkB,oBAAU,kBAAMV,KAAiB,CAACA,IAOlC,MAAO,CAACF,EANS,SAAC,GAAgB,IAAda,EAAa,EAAbA,OACZ7E,EAAO6E,EAAO7E,KACd8E,EAAwB,aAAhBD,EAAOjG,KAAsBiG,EAAOE,QAAUF,EAAOC,MACnEZ,IACAD,E,qVAAQ,CAAD,GAAMD,EAAN,eAAahE,EAAO8E,MAELlB,EAASE,I,EAtBtBN,E,2bAAAA,E,g7BCSPwB,EAAgB,SAAAhF,GAAI,OAAI,SAA6BiF,GAEzD,OADAC,QAAQC,KAAK,aAAenF,EAAO,2EAC5B,kBAASiF,KAEZG,EAAiBJ,EAAc,kBAC/BK,EAAc,GAGdC,EAAY,UACH,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGP,EACF,8BACD,OAAO,YAACK,EAAD,iBAAeD,EAAiBJ,EAAhC,CAAuCO,WAAYA,EAAYC,QAAQ,cAE5E,iBAAQ,CACN,GAAM,WADR,WAGA,oMACA,2NACA,uBAAK,kCAAMC,WAAW,OAAU,IAA3B,+EAEL,iBAAQ,CACN,GAAM,WADR,WAGA,YAAC,IAAD,CAAYC,WAAY,EAAGC,OAAQ,68CAA0+CC,QAAS,CACphDZ,MAAOa,KAAOA,KAAKb,MAAQA,EAC3Bc,gBACAC,gBACAxC,YACAyC,WACAC,UACAC,eACAC,WACCX,QAAQ,cACZ,WACK,IAAML,EAAiB,WACrB,IAAM1B,EAAU2C,IAAMC,SADK,EAOe9C,YALrB,CACnB+C,UAAW,GACXC,SAAU,GACVC,IAAK,IAEyD/C,GAPrC,mBAOpBM,EAPoB,KAOd0C,EAPc,KAOJ9C,EAPI,KAOKE,EAPL,KAQ3B,OAAO,oBAAM6C,IAAKjD,EAASkD,SAAU,SAAAC,GAAC,OAAIA,EAAEC,mBAC5C,YAAC,IAAD,CAAaC,MAAM,aAAaC,YAAU,EAACvB,QAAQ,eACjD,YAAC,IAAD,CAAO7G,KAAK,OAAOqI,YAAY,aAAajH,KAAK,YAAY0G,SAAUA,EAAU5B,MAAOd,EAAKuC,UAAWpE,UAAW,EAAGsD,QAAQ,UAC9H,YAAC,IAAD,CAAayB,QAASpD,EAAOyC,UAAWd,QAAQ,iBAElD,YAAC,IAAD,CAAasB,MAAM,YAAYC,YAAU,EAACvB,QAAQ,eAChD,YAAC,IAAD,CAAO7G,KAAK,OAAOqI,YAAY,YAAYjH,KAAK,WAAW0G,SAAUA,EAAU5B,MAAOd,EAAKwC,SAAUrE,UAAW,EAAGsD,QAAQ,UAC3H,YAAC,IAAD,CAAayB,QAASpD,EAAO0C,SAAUf,QAAQ,iBAEjD,YAAC,IAAD,CAAasB,MAAM,MAAMC,YAAU,EAACvB,QAAQ,eAC1C,YAAC,IAAD,CAAO7G,KAAK,SAASqI,YAAY,MAAMjH,KAAK,MAAM0G,SAAUA,EAAU5B,MAAOd,EAAKyC,IAAKU,IAAK,GAAI1B,QAAQ,UACxG,YAAC,IAAD,CAAayB,QAASpD,EAAO2C,IAAKhB,QAAQ,iBAE5C,YAAC,IAAD,CAAQ2B,MAAM,OAAOxI,KAAK,SAASyI,UAAWzD,EAAS6B,QAAQ,UAA/D,YAMF,OA5BC,EACKL,EADL,gFAQ2C5B,OAoBrC,YAAC4B,EAAD,CAAgBK,QAAQ,sB,4KAOvCF,EAAW+B,gBAAiB,G,8FAtEtBtC,E,0FAIAI,E,2FACAC,E,wFAGAC,E,sFACkBC,E,8lBCjBlBgC,EAAa,SAACpH,GAAgC,IAAnBqH,EAAkB,uDAAP,GACpCC,EAAeD,EAASC,cAAgB,GAC9C,OAAOA,EAAaC,KAAK,SAAAC,GAAO,OAAIA,EAAQxH,cAAgBA,KAGxDyH,EAAa,SAACzH,GAA2C,IAA9B0H,EAA6B,uDAAlB,GAAItJ,EAAc,uCAC5D,GAAkB,SAAdA,EAAsB,OAAO,EACjC,IAAMuJ,EAAmBD,EAASJ,cAAgB,GAClD,OAAOK,EAAiBJ,KAAK,SAAAC,GAAO,OAAIA,EAAQxH,cAAgBA,KAG5D4H,EAAiB,SAACJ,EAASH,EAAUK,EAAUtJ,GACnD,IAAM4B,EAAcwH,EAAQxH,aAAewH,EAAQ3H,MAAQ2H,EAC3D,OACEJ,EAAWpH,EAAaqH,IACxBI,EAAWzH,EAAa0H,EAAUtJ,IAIzByJ,EAA4B,SAAA/E,GAAW,IAAD,EACexD,YAC9D,SAAAC,GAAK,MAAK,CACRF,QAASE,EAAMF,QACfyI,qBAAsBvI,EAAMuI,qBAC5BC,qBAAsBxI,EAAMwI,wBAJxB1I,EADyC,EACzCA,QAASyI,EADgC,EAChCA,qBAAsBC,EADU,EACVA,qBAOvC,MAAO,CACLD,qBAAsBE,kBAAQ,WAC5B,MAA6B,SAAtB3I,EAAQjB,UACX2J,EAAqBjF,GACrBgF,EAAqBhF,IACxB,CAACzD,EAAQjB,UAAW2J,EAAsBjF,EAAQgF,IACrDF,eAAgBpI,sBACd,SAAAgI,GACE,OAAOI,EACLJ,EACAO,EAAqBjF,GACrBgF,EAAqBhF,GACrBzD,EAAQjB,YAGZ,CAACiB,EAAQjB,UAAW2J,EAAsBjF,EAAQgF,M,EAvB3CD,E,mHACqDvI,O,8RApB5D8H,E,2FAKAK,E,2FAMAG,E,+FAQOC,E","file":"static/js/utils-use-form.362fb2c2.js","sourcesContent":["import { useSelector } from 'react-redux'\nimport { useCallback } from 'react'\n\nexport const hasLevel = (loginType, requiredType, isPaasAdmin) => {\n  if (requiredType === 'PaaS Admin' && isPaasAdmin) return true\n  const types = {\n    'User': 1,\n    'Group': 2,\n    'Service Provider': 3,\n    'Reseller': 4,\n    'Provisioning': 5,\n    'System': 6\n  }\n  const user = types[loginType] || 0\n  const required = types[requiredType] || 10\n  return user >= required\n}\n\nexport const hasGroup = type => hasLevel(type, 'Group')\nexport const hasServiceProvider = type => hasLevel(type, 'Service Provider')\nexport const hasReseller = type => hasLevel(type, 'Reseller')\nexport const hasProvisioning = type => hasLevel(type, 'Provisioning')\nexport const hasPaasAdmin = type => hasLevel(type, 'Paas Admin')\nexport const hasSystem = type => hasLevel(type, 'System')\n\nexport const hasVersion = (current, required) => {\n  const currentVersion = parseFloat(current.replace('sp', '.'))\n  const requiredVersion = parseFloat(required.replace('sp', '.'))\n  return currentVersion >= requiredVersion\n}\n\nexport default {\n  hasLevel,\n  hasGroup,\n  hasServiceProvider,\n  hasPaasAdmin,\n  hasReseller,\n  hasProvisioning,\n  hasSystem,\n  hasVersion\n}\n\nexport const useAcl = () => {\n  const session = useSelector(state => state.session)\n  return {\n    hasLevel: useCallback(\n      level => hasLevel(session.loginType, level, session.isPaasAdmin),\n      [session.isPaasAdmin, session.loginType]\n    ),\n    hasGroup: useCallback(() => hasGroup(session.loginType, 'Group'), [\n      session.loginType\n    ]),\n    hasServiceProvider: useCallback(\n      () => hasServiceProvider(session.loginType, 'ServiceProvider'),\n      [session.loginType]\n    ),\n    hasPaasAdmin: useCallback(\n      () => hasPaasAdmin(session.loginType, 'Paas Admin', session.isPaasAdmin),\n      [session.isPaasAdmin, session.loginType]\n    ),\n    hasReseller: useCallback(\n      () => hasReseller(session.loginType, 'Reseller', session.isPaasAdmin),\n      [session.isPaasAdmin, session.loginType]\n    ),\n    hasProvisioning: useCallback(\n      () => hasProvisioning(session.loginType, 'Provisioning'),\n      [session.loginType]\n    ),\n    hasSystem: useCallback(() => hasSystem(session.loginType, 'System'), [\n      session.loginType\n    ]),\n    hasVersion: useCallback(\n      version => hasVersion(session.softwareVersion, version),\n      [session.softwareVersion]\n    )\n  }\n}\n","import camelCase from 'lodash/camelCase'\nimport { useSelector } from 'react-redux'\nimport { useCallback } from 'react'\n\nconst getModule = (name, loginType, modules) => {\n  if (!name) return\n  const moduleName = name.serviceName || name.name || name\n  const module = modules[moduleName]\n  if (!module) return\n  const permissions = module.permissions[camelCase(loginType)]\n  return { ...module, permissions }\n}\n\nconst hasModulePermission = (name, loginType, modules, permission) => {\n  const module = getModule(name, loginType, modules)\n  return module ? module.permissions[permission] : false\n}\n\nconst hasModuleRead = (name, loginType, modules) => {\n  return hasModulePermission(name, loginType, modules, 'read')\n}\n\nconst hasModuleWrite = (name, loginType, modules) => {\n  return hasModulePermission(name, loginType, modules, 'write')\n}\n\nconst hasModuleUpdate = (name, loginType, modules) => {\n  return hasModulePermission(name, loginType, modules, 'update')\n}\n\nconst hasModuleDelete = (name, loginType, modules) => {\n  return hasModulePermission(name, loginType, modules, 'delete')\n}\n\nconst moduleAlias = (name, modules) => {\n  const module = getModule(name, modules)\n  return (module && module.alias) || name\n}\n\nconst moduleDescription = (name, modules) => {\n  const module = getModule(name, modules)\n  return module && module.description\n}\n\nexport const useModulePermissions = () => {\n  const { session, uiModules } = useSelector(state => ({\n    session: state.session,\n    uiModules: state.uiModules\n  }))\n  return {\n    getModule: useCallback(\n      name => {\n        return getModule(name, session.loginType, uiModules)\n      },\n      [session.loginType, uiModules]\n    ),\n    hasModulePermission: useCallback(\n      (name, permission) => {\n        return hasModulePermission(\n          name,\n          session.loginType,\n          uiModules,\n          permission\n        )\n      },\n      [session.loginType, uiModules]\n    ),\n    hasModuleRead: useCallback(\n      name => {\n        return hasModuleRead(name, session.loginType, uiModules)\n      },\n      [session.loginType, uiModules]\n    ),\n    hasModuleWrite: useCallback(\n      name => {\n        return hasModuleWrite(name, session.loginType, uiModules)\n      },\n      [session.loginType, uiModules]\n    ),\n    hasModuleUpdate: useCallback(\n      name => {\n        return hasModuleUpdate(name, session.loginType, uiModules)\n      },\n      [session.loginType, uiModules]\n    ),\n    hasModuleDelete: useCallback(\n      name => {\n        return hasModuleDelete(name, session.loginType, uiModules)\n      },\n      [session.loginType, uiModules]\n    ),\n    moduleAlias: useCallback(\n      name => {\n        return moduleAlias(name, uiModules)\n      },\n      [uiModules]\n    ),\n    moduleDescription: useCallback(\n      name => {\n        return moduleDescription(name, uiModules)\n      },\n      [uiModules]\n    )\n  }\n}\n","import sampleSize from 'lodash/sampleSize'\nimport shuffle from 'lodash/shuffle'\n\nexport const generatePassword = (rules = {}) => {\n  var config = {\n    digits: (rules.restrictMinDigits && parseInt(rules.minDigits)) || 1,\n    upper:\n      (rules.restrictMinUpperCaseLetters &&\n        parseInt(rules.minUpperCaseLetters)) ||\n      1,\n    lower:\n      (rules.restrictMinLowerCaseLetters &&\n        parseInt(rules.minLowerCaseLetters)) ||\n      1,\n    special:\n      (rules.restrictMinNonAlphanumericCharacters &&\n        parseInt(rules.minNonAlphanumericCharacters)) ||\n      1,\n    length: parseInt(rules.minLength) || 8\n  }\n  var digits = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']\n  var lower = [\n    'a',\n    'b',\n    'c',\n    'd',\n    'e',\n    'f',\n    'g',\n    'h',\n    'i',\n    'j',\n    'k',\n    'l',\n    'm',\n    'n',\n    'o',\n    'p',\n    'q',\n    'r',\n    's',\n    't',\n    'u',\n    'v',\n    'w',\n    'x',\n    'y',\n    'z'\n  ]\n  var upper = [\n    'A',\n    'B',\n    'C',\n    'D',\n    'E',\n    'F',\n    'G',\n    'H',\n    'I',\n    'J',\n    'K',\n    'L',\n    'M',\n    'N',\n    'O',\n    'P',\n    'Q',\n    'R',\n    'S',\n    'T',\n    'U',\n    'V',\n    'W',\n    'X',\n    'Y',\n    'Z'\n  ]\n  var special = [\n    '!',\n    '@',\n    '#',\n    '$',\n    '^',\n    '&',\n    '{',\n    '}',\n    '*',\n    '.',\n    '-',\n    '(',\n    ')',\n    '_'\n  ]\n  var chars = []\n    .concat(sampleSize(digits, config.digits))\n    .concat(sampleSize(upper, config.upper))\n    .concat(sampleSize(lower, config.lower))\n    .concat(sampleSize(special, config.special))\n  if (chars.length < config.length) {\n    chars = chars.concat(sampleSize(lower, config.length - chars.length))\n  }\n  return shuffle(chars).join('')\n}\n\n/*\n<xs:element name=\"disallowUserId\" type=\"xs:boolean\"/>\n<xs:element name=\"disallowOldPassword\" type=\"xs:boolean\"/>\n<xs:element name=\"disallowReversedOldPassword\" type=\"xs:boolean\"/>\n<xs:element name=\"restrictMinDigits\" type=\"xs:boolean\"/>\n<xs:element name=\"minDigits\" type=\"PasswordMinDigits\"/>\n<xs:element name=\"restrictMinUpperCaseLetters\" type=\"xs:boolean\"/>\n<xs:element name=\"minUpperCaseLetters\" type=\"PasswordMinUpperCaseLetters\"/>\n<xs:element name=\"restrictMinLowerCaseLetters\" type=\"xs:boolean\"/>\n<xs:element name=\"minLowerCaseLetters\" type=\"PasswordMinLowerCaseLetters\"/>\n<xs:element name=\"restrictMinNonAlphanumericCharacters\" type=\"xs:boolean\"/>\n<xs:element name=\"minNonAlphanumericCharacters\" type=\"PasswordMinNonAlphanumericCharacters\"/>\n<xs:element name=\"minLength\" type=\"PasswordMinLength\"/>\n<xs:element name=\"maxFailedLoginAttempts\" type=\"MaxFailedLoginAttempts\"/>\n<xs:element name=\"passwordExpiresDays\" type=\"PasswordExpiresDays\"/>\n<xs:element name=\"sendLoginDisabledNotifyEmail\" type=\"xs:boolean\"/>\n<xs:element name=\"loginDisabledNotifyEmailAddress\" type=\"EmailAddress\" minOccurs=\"0\"/>\n<xs:element name=\"disallowRulesModification\" type=\"xs:boolean\"/>\n<xs:element name=\"disallowPreviousPasswords\" type=\"xs:boolean\"/>\n<xs:element name=\"numberOfPreviousPasswords\" type=\"PasswordHistoryCount\"/>\n*/\n","import { stringify } from 'query-string'\n\nexport const userTypes = {\n  'Auto Attendant - Standard': 'autoAttendants/autoAttendant',\n  'Auto Attendant - Video': 'autoAttendants/autoAttendant',\n  'Auto Attendant': 'autoAttendants/autoAttendant',\n  'BroadWorks Anywhere Portal': null,\n  'BroadWorks Anywhere': null,\n  'Call Center - Basic': 'callCenters/callCenter',\n  'Call Center - Premium': 'callCenters/callCenter',\n  'Call Center - Standard': 'callCenters/callCenter',\n  'Call Center': 'callCenters/callCenter',\n  'Collaborate Bridge': 'collaborate/bridge',\n  'Find-me/Follow-me': null,\n  'Flexible Seating Host': null,\n  'Group Paging': 'paging/group',\n  'Hunt Group': 'huntGroups/huntGroup',\n  'Instant Conference Bridge': null,\n  'Instant Group Call': null,\n  'Meet-Me Conference Bridge': 'meetMe/bridge',\n  'Meet-Me Conferencing': 'meetMe/bridge',\n  'Music On Hold': null,\n  'Normal': 'users',\n  'Route Point': null,\n  'Voice Messaging': null,\n  'VoiceXML': null\n}\n\nexport const userPath = (user, type) => {\n  const userType = type || user.userType || user.serviceType || 'Normal'\n  const path = userTypes[userType]\n  if (!path) return\n  if (path === 'users') {\n    return `/users/${user.serviceProviderId}/${user.groupId}/${user.userId}`\n  } else {\n    return `/groups/${user.serviceProviderId}/${\n      user.groupId\n    }/${path}?${stringify({ serviceUserId: user.userId })}`\n  }\n}\n\nexport const groupPath = group => {\n  return `/groups/${group.serviceProviderId}/${group.groupId}`\n}\n\nexport const serviceProviderPath = serviceProvider => {\n  return `/serviceProviders/${serviceProvider.serviceProviderId}`\n}\n\nexport default { userTypes, userPath, groupPath, serviceProviderPath }\n","import { useState, useEffect, useCallback } from 'react'\n\nexport const useForm = (initialState, formRef) => {\n  const [isValid, setValid] = useState(false)\n  const [errors, setErrors] = useState({})\n  const [form, setForm] = useState(initialState)\n  const checkValidity = useCallback(() => {\n    if (formRef && formRef.current) {\n      const formData = new FormData(formRef.current)\n      const newErrors = [...formData.keys()].reduce((acc, key) => {\n        acc[key] = formRef.current.elements[key].validationMessage\n        return acc\n      }, {})\n      setValid(formRef.current.checkValidity())\n      setErrors(newErrors)\n    }\n  }, [formRef])\n  useEffect(() => checkValidity(), [checkValidity])\n  const onChange = ({ target }) => {\n    const name = target.name\n    const value = target.type === 'checkbox' ? target.checked : target.value\n    checkValidity()\n    setForm({ ...form, [name]: value })\n  }\n  return [form, onChange, isValid, errors]\n}\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsx mdx */\nimport { UiFormField } from '@/components/ui'\nimport { UiFormError } from '@/components/ui'\nimport { useForm } from '@/utils'\nimport { Button, Input } from 'rbx'\nimport { Playground, Props } from 'docz'\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\nconst UseFormExample = makeShortcode(\"UseFormExample\");\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h1 {...{\n      \"id\": \"useform\"\n    }}>{`useForm`}</h1>\n    <p>{`Form helper to handle onChange events and track the validity of the form. Pass in a formRef to enable validations, then utilize HTML5 validation attributes on your inputs.`}</p>\n    <p>{`useForm returns a tuple with the initial form object, an onchange handler, and whether or not the form is valid, and an object containing any errors. The errors are identified by the input name.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`const [form, onChange, isValid, errors] = useForm(initialState, formRef)\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"example\"\n    }}>{`Example`}</h2>\n    <Playground __position={0} __code={'() => {\\n  const UseFormExample = () => {\\n    const formRef = React.useRef()\\n    const initialState = { firstName: \\'\\', lastName: \\'\\', age: \\'\\' }\\n    const [form, onChange, isValid, errors] = useForm(initialState, formRef)\\n    return (\\n      <form ref={formRef} onSubmit={e => e.preventDefault()}>\\n        <UiFormField label=\\\"First Name\\\" horizontal>\\n          <Input\\n            type=\\\"text\\\"\\n            placeholder=\\\"First Name\\\"\\n            name=\\\"firstName\\\"\\n            onChange={onChange}\\n            value={form.firstName}\\n            minLength={5}\\n          />\\n          <UiFormError message={errors.firstName} />\\n        </UiFormField>\\n        <UiFormField label=\\\"Last Name\\\" horizontal>\\n          <Input\\n            type=\\\"text\\\"\\n            placeholder=\\\"Last Name\\\"\\n            name=\\\"lastName\\\"\\n            onChange={onChange}\\n            value={form.lastName}\\n            minLength={5}\\n          />\\n          <UiFormError message={errors.lastName} />\\n        </UiFormField>\\n        <UiFormField label=\\\"Age\\\" horizontal>\\n          <Input\\n            type=\\\"number\\\"\\n            placeholder=\\\"Age\\\"\\n            name=\\\"age\\\"\\n            onChange={onChange}\\n            value={form.age}\\n            max={10}\\n          />\\n          <UiFormError message={errors.age} />\\n        </UiFormField>\\n        <Button color=\\\"link\\\" type=\\\"submit\\\" disabled={!isValid}>\\n          Submit\\n        </Button>\\n      </form>\\n    )\\n  }\\n  return <UseFormExample />\\n}'} __scope={{\n      props: this ? this.props : props,\n      UiFormField,\n      UiFormError,\n      useForm,\n      Button,\n      Input,\n      Playground,\n      Props\n    }} mdxType=\"Playground\">\n  {() => {\n        const UseFormExample = () => {\n          const formRef = React.useRef();\n          const initialState = {\n            firstName: '',\n            lastName: '',\n            age: ''\n          };\n          const [form, onChange, isValid, errors] = useForm(initialState, formRef);\n          return <form ref={formRef} onSubmit={e => e.preventDefault()}>\n          <UiFormField label=\"First Name\" horizontal mdxType=\"UiFormField\">\n            <Input type=\"text\" placeholder=\"First Name\" name=\"firstName\" onChange={onChange} value={form.firstName} minLength={5} mdxType=\"Input\" />\n            <UiFormError message={errors.firstName} mdxType=\"UiFormError\" />\n          </UiFormField>\n          <UiFormField label=\"Last Name\" horizontal mdxType=\"UiFormField\">\n            <Input type=\"text\" placeholder=\"Last Name\" name=\"lastName\" onChange={onChange} value={form.lastName} minLength={5} mdxType=\"Input\" />\n            <UiFormError message={errors.lastName} mdxType=\"UiFormError\" />\n          </UiFormField>\n          <UiFormField label=\"Age\" horizontal mdxType=\"UiFormField\">\n            <Input type=\"number\" placeholder=\"Age\" name=\"age\" onChange={onChange} value={form.age} max={10} mdxType=\"Input\" />\n            <UiFormError message={errors.age} mdxType=\"UiFormError\" />\n          </UiFormField>\n          <Button color=\"link\" type=\"submit\" disabled={!isValid} mdxType=\"Button\">\n            Submit\n          </Button>\n        </form>;\n        };\n\n        return <UseFormExample mdxType=\"UseFormExample\" />;\n      }}\n    </Playground>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;","import { useSelector } from 'react-redux'\nimport { useCallback, useMemo } from 'react'\n\nconst isAssigned = (serviceName, assigned = {}) => {\n  const userServices = assigned.userServices || []\n  return userServices.find(service => service.serviceName === serviceName)\n}\n\nconst isViewable = (serviceName, viewable = {}, loginType) => {\n  if (loginType !== 'User') return true\n  const viewableServices = viewable.userServices || []\n  return viewableServices.find(service => service.serviceName === serviceName)\n}\n\nconst hasUserService = (service, assigned, viewable, loginType) => {\n  const serviceName = service.serviceName || service.name || service\n  return (\n    isAssigned(serviceName, assigned) &&\n    isViewable(serviceName, viewable, loginType)\n  )\n}\n\nexport const useUserServicePermissions = userId => {\n  const { session, userViewableServices, userAssignedServices } = useSelector(\n    state => ({\n      session: state.session,\n      userViewableServices: state.userViewableServices,\n      userAssignedServices: state.userAssignedServices\n    })\n  )\n  return {\n    userViewableServices: useMemo(() => {\n      return session.loginType !== 'User'\n        ? userAssignedServices[userId]\n        : userViewableServices[userId]\n    }, [session.loginType, userAssignedServices, userId, userViewableServices]),\n    hasUserService: useCallback(\n      service => {\n        return hasUserService(\n          service,\n          userAssignedServices[userId],\n          userViewableServices[userId],\n          session.loginType\n        )\n      },\n      [session.loginType, userAssignedServices, userId, userViewableServices]\n    )\n  }\n}\n"],"sourceRoot":""}